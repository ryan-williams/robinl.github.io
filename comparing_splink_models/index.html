<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.5625 'Source Sans Pro',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Source Sans Pro',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}ul{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.78125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:0.85rem;line-height:1.5625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:1rem;line-height:1.5625rem;border-collapse:collapse;width:null;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}blockquote{margin-left:0;margin-right:1.5625rem;margin-top:0;padding-bottom:0;padding-left:1.75781rem;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:null;line-height:1.5625rem;color:hsla(0,0%,0%,0.59);border-left:0.58594rem solid;border-color:hsla(0,0%,0%,0.19);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5625rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.5625rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}li > ul{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5625rem / 2);}code{font-size:0.85rem;line-height:1.5625rem;}kbd{font-size:0.85rem;line-height:1.5625rem;}samp{font-size:0.85rem;line-height:1.5625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.04167rem;padding-right:1.04167rem;padding-top:0.78125rem;padding-bottom:calc(0.78125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:null;text-decoration:none;}a:hover,a:active{color:null;}h1,h2,h3,h4,h5,h6{margin-top:3.125rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.5625rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"â€” ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.17188rem;margin-right:0;border-left:0.29297rem solid;border-color:#fcea0e;padding-left:0.87891rem;}}h1,h2,h3,h4,h5{margin-top:1.5625rem;}td, th{padding:0.19531rem;}@media only screen and (max-width: 480px){blockquote{border-color: hsla(0,0%,0%,0.19)}}{}</style><style data-href="/styles.9359f0cff456472c71e0.css" id="gatsby-global-css">html{background-color:"white"}code[class*=language-],pre[class*=language-]{color:#393a34;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre>code[class*=language-]{font-size:1em}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#c1def1}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:1px solid #ddd;background-color:#fff}:not(pre)>code[class*=language-]{padding:1px .2em;background:#f8f8f8;border:1px solid #ddd}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:green;font-style:italic}.token.namespace{opacity:.7}.token.string{color:#a31515}.token.operator,.token.punctuation{color:#393a34}.token.boolean,.token.constant,.token.inserted,.token.number,.token.symbol,.token.url,.token.variable{color:#36acaa}.language-autohotkey .token.selector,.language-json .token.boolean,.language-json .token.number,.token.atrule,.token.attr-value,.token.keyword,code[class*=language-css]{color:#00f}.token.function{color:#393a34}.language-autohotkey .token.tag,.token.deleted{color:#9a050f}.language-autohotkey .token.keyword,.token.selector{color:#00009f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.language-json .token.property,.token.class-name{color:#2b91af}.token.selector,.token.tag{color:maroon}.token.attr-name,.token.entity,.token.property,.token.regex{color:red}.token.directive.tag .tag{background:#ff0;color:#393a34}.line-numbers .line-numbers-rows{border-right-color:#a5a5a5}.line-numbers-rows>span:before{color:#2b91af}.line-highlight{background:rgba(193,222,241,.2);background:linear-gradient(90deg,rgba(193,222,241,.2) 70%,rgba(221,222,241,0))}.header-module--header--2ea3u{background-color:#fff;margin-bottom:0}.header-module--robin--Jklmt,.header-module--robin--Jklmt a{font-weight:700;color:#000}.header-module--black_link--2DzPY{color:#000}nav ul{list-style:none;display:flex;margin-bottom:0}li{padding-left:1em;padding-right:1em}.header-module--navbar--1JzT0{display:flex}.header-module--middlespace--2ErxQ{margin-left:auto;margin-right:auto}code{font-size:.85em}</style><meta name="generator" content="Gatsby 3.4.1"/><title data-react-helmet="true">Are more complex probabilistic linkage models more accurate?  Part 1, supervised learning</title><link data-react-helmet="true" rel="canonical" href="https://www.robinlinacre.com/comparing_splink_models/"/><meta data-react-helmet="true" name="description" content="How good is Splink: Are more complex probabilistic linkage models more accurate?"/><meta data-react-helmet="true" name="image" content="https://www.robinlinacre.com/images/favicon-32x32.png"/><meta data-react-helmet="true" property="og:url" content="https://www.robinlinacre.com/comparing_splink_models/"/><meta data-react-helmet="true" property="og:title" content="Are more complex probabilistic linkage models more accurate?  Part 1, supervised learning"/><meta data-react-helmet="true" property="og:description" content="How good is Splink: Are more complex probabilistic linkage models more accurate?"/><meta data-react-helmet="true" name="title" content="Are more complex probabilistic linkage models more accurate?  Part 1, supervised learning"/><meta data-react-helmet="true" property="og:image" content="https://www.robinlinacre.com/images/favicon-32x32.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@robinl"/><meta data-react-helmet="true" name="twitter:title" content="Are more complex probabilistic linkage models more accurate?  Part 1, supervised learning"/><meta data-react-helmet="true" name="twitter:description" content="How good is Splink: Are more complex probabilistic linkage models more accurate?"/><meta data-react-helmet="true" name="twitter:image" content="https://www.robinlinacre.com/images/favicon-32x32.png"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link href="//fonts.googleapis.com/css?family=Source+Serif+Pro:600|Source+Sans+Pro:400,400i,700" rel="stylesheet" type="text/css"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-c24f5b1f4a9c5e0ec8c8.js"/><link as="script" rel="preload" href="/framework-24ad6bf468f69b85cc4b.js"/><link as="script" rel="preload" href="/app-388afa8abea0cc1a2336.js"/><link as="script" rel="preload" href="/1bfc9850-4bc05ed972012318fda2.js"/><link as="script" rel="preload" href="/commons-980b0fe5138476c17c20.js"/><link as="script" rel="preload" href="/e0f9d6167c3a44973790d74c7dcf74edce12167a-1bc1118684b95d9a78fd.js"/><link as="script" rel="preload" href="/13508462cd12b52eabd506f7d6d69b1c3cb4384b-5bc6b82f95fddc67b19c.js"/><link as="script" rel="preload" href="/component---src-pages-comparing-splink-models-jsx-5e61e9b8f53efb46401f.js"/><link as="fetch" rel="preload" href="/page-data/comparing_splink_models/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4202924991.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><header class="header-module--header--2ea3u"><nav><ul><style data-emotion-css="4no1hk">.css-4no1hk{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;}</style><style data-emotion-css="l60q3f">.css-l60q3f{color:black;margin-bottom:0.78125rem;margin-top:0.78125rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;}</style><li class="header-module--robin--Jklmt css-l60q3f e11v94p0"><a href="/">&gt;robinlinacre</a></li><style data-emotion-css="md9jdw">.css-md9jdw{color:black;margin-bottom:0.78125rem;margin-top:0.78125rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;}</style><li class="header-module--middlespace--2ErxQ css-md9jdw e11v94p0"></li><li class="css-md9jdw e11v94p0"><style data-emotion-css="1xu3tth">.css-1xu3tth{color:black;}</style><a href="https://twitter.com/RobinLinacre" class="css-1xu3tth e11v94p1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="css-md9jdw e11v94p0"><a href="https://github.com/robinl/" class="css-1xu3tth e11v94p1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="css-md9jdw e11v94p0"><a href="/"><a href="" class="css-1xu3tth e11v94p1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg></a></a></li></ul></nav><hr/></header><style data-emotion-css="19qkhea">.css-19qkhea{margin-left:auto;margin-right:auto;width:90%;max-width:640px;}</style><div class="css-19qkhea"><div style="color:#b7b5bd;margin-bottom:0;padding-bottom:0"><p>Originally posted: <!-- -->2021-11-01<!-- -->. <!-- -->View source code for this page<!-- --> <a href="https://github.com/RobinL/robinl.github.io/blob/dev/src/mdx/comparing_splink_models.mdx">here</a>.</p></div><h1>Are more complex probabilistic linkage models more accurate?</h1><p style="font-size:1.2rem;color:#7c7c7c;margin-top:-10px"><i>Part 1: Supervised learning</i></p><h2>Introduction</h2><p>Probabilistic linkage models generate pairwise comparisons of records and make predictions of whether the two records refer to the same entity. They are often used for deduplicating and linking datasets where unique person identifiers are not available.</p><p>The linkage score is computed by comparing different columns of the dataset to assess their similarity, and then weighting the importance of these comparisons to produce a final score. For those unfamiliar with these models, you can learn more in my <a href="https://www.robinlinacre.com/intro_to_probabilistic_linkage/">introductory training material</a>.</p><p>In the simplest models, the comparison may be a simple equality check. For example, is the first name equal or different? In this model, a match on the first name will increase the match score by a constant weighting. A non-match on first name will decrease the match score by some other constant.</p><p>This is clearly a crude model of the real world, and there are a variety of ways in which it can be made more realistic. For example:</p><ul><li>We may allow more than two match weights to be computed for a given column. For example, we may want a separate &#x27;intermediate&#x27; match weight for the case that name is similar but not identical e.g. &quot;Rachel&quot; vs &quot;Rachael&quot;.</li><li>We may allow different match weights for different values of a column. For example, the match weight for a match on a common name like &quot;John&quot; may be lower than for a match on an uncommon name like &quot;Robin&quot;.</li><li>We may want to group together certain columns to avoid double counting. For instance, if postcodes match, we would probably want to avoid further increasing the final match score for a match on a &#x27;city&#x27; field.</li></ul><p>This kind of feature engineering is dataset-specific and can be time consuming. This post considers whether it&#x27;s worth it. Do more complex models have higher accuracy, and if so, how much higher? What kinds of feature engineering have the greatest impact on accuracy?</p><p>Questions of accuracy are most easily answered if we have access to a realistic test dataset. This dataset must be fully labelled, so that the true match status of each pairwise record comparison is known. The dataset used for this post is a synthetic dataset derived from records in WikiData. The code used to create this dataset if available <a href="https://github.com/moj-analytical-services/splink_synthetic_data">here</a>. Please contact me if you would like access to the full data.</p><p>In this post, I use <a href="https://github.com/moj-analytical-services/splink">Splink</a> (software for probabilistic record linkage at scale) to compute match scores, and then compare these scores to the ground truth. The headline finding is that models with more complex feature engineering are dramatically more accurate.</p><p>Models are trained using supervised learning: that is, I use the labels to compute model parameters parameters are derived from the labelled data. In <a href="https://www.robinlinacre.com/comparing_splink_models_unsupervised/">part 2</a>, I present the results of the same experiment using unsupervised learning.</p><h2>Models compared</h2><p>We compare the following models, further details of which are provided below.</p><ol start="0"><li>A rules-based (deterministic) matching approach</li><li>Basic two-level equality checks for all columns</li><li>Simple fuzzy matching using default Splink settings</li><li>More complex fuzzy matches, using customised Splink settings</li><li>More complex fuzzy matches and term frequency adjustments</li><li>More complex fuzzy matches and term frequency adjustments, with term frequency weights for fuzzy matches</li></ol><h2>Summary results</h2><p>We can summarise the results using a <a href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic">ROC curve</a>.</p><div></div><p>You can zoom into this chart using mousewheel/touchpad, and move around by dragging.</p><p>This chart tells us, for example, that for a false positive rate of 1%:</p><ul><li>Model 0 achieves recall (a true positive rate) of around 20%</li><li>Model 1 achieves recall (a true positive rate) of around 38%</li><li>Model 2 achieves recall (a true positive rate) of around 54%</li><li>Model 3 achieves recall (a true positive rate) of around 60%</li><li>Model 4 achieves recall (a true positive rate) of around 68%</li><li>Model 5 achieves recall (a true positive rate) of around 73%</li></ul><h2>Methodology</h2><p>In this section, I give a brief description of the differences between the models, and present their match weights. I then discuss how they were trained, and a few caveats.</p><p>Full reproducibility materials for all results can be found <a href="https://github.com/moj-analytical-services/splink_synthetic_data_performance_comparisons/tree/3c0f2ce0c697a7d70b612e2e30463bce611bf576">here</a>.</p><h3>Data</h3><p>The input data is a synthetic dataset obtained by from the <a href="https://query.wikidata.org/">WikiData query service</a>, and then creating duplicating of these records that contain various errors corruptions.</p><p>There are a total of 1,105,780 records in the dataset, with 113,232 distinct persons. Cluster sizes range from 1 to 21, with a fairly equal distribution.</p><p>An example of some records is as follows, derived from <a href="https://www.wikidata.org/wiki/Q34743">this master record</a>.</p><table><thead><tr><th align="left">dob</th><th align="left">postcode</th><th align="left">occupation</th><th align="left">surname_std</th><th align="left">forename1_std</th><th align="left">forename2_std</th></tr></thead><tbody><tr><td align="left">1865-12-30</td><td align="left">B95 5DG</td><td align="left">journalist</td><td align="left">kipling</td><td align="left">rudyard</td><td align="left"></td></tr><tr><td align="left">1865-12-30</td><td align="left"></td><td align="left">journalist</td><td align="left">kipling</td><td align="left">rudyard</td><td align="left"></td></tr><tr><td align="left">1865-12-60</td><td align="left">B95 5DG</td><td align="left"></td><td align="left">kipling</td><td align="left">rudyard</td><td align="left"></td></tr><tr><td align="left">1865-12-30</td><td align="left"></td><td align="left">journalist</td><td align="left">kipling</td><td align="left"></td><td align="left"></td></tr><tr><td align="left">1865-12-30</td><td align="left">B05 5DG</td><td align="left"></td><td align="left">kipling</td><td align="left">joseph</td><td align="left"></td></tr><tr><td align="left"></td><td align="left">CV37 9TW</td><td align="left">author</td><td align="left">kipling</td><td align="left">rudyard</td><td align="left">joe</td></tr><tr><td align="left">1865-12-80</td><td align="left"></td><td align="left"></td><td align="left">kipling</td><td align="left">r</td><td align="left"></td></tr></tbody></table><p>Each model uses information from all of these columns.</p><p>As can be seen from the table, the data quality is poor - a large number of corruptions and nulls have been introduced. This should help to expose the differences in the accuracy of different models: if the data was very high quality, then most records would be trivially matchable and even the simplest model would perform well.</p><h3>Model 0</h3><p>Model 0 is a rules-based (deterministic) matching algorithm. The rules used to generate matches can be found in the code <a href="https://github.com/moj-analytical-services/splink_synthetic_data_performance_comparisons/blob/354682ac50a422515a65d1b0fbfbd0fd7c8d8621/edge_generation/person/uk_citizens_max_groupsize_20/compare_models_rules_based/job.py#L110">here</a> and are as follows.</p><div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">deterministic_matching_rules = [
    &quot;l.postcode = r.postcode and l.dob = r.dob and l.forename1_dm = r.forename1_dm &quot;,
    &quot;l.dob = r.dob and l.forename1_dm = r.forename1_dm and l.forename2_dm = r.forename2_dm and l.surname_dm = r.surname_dm&quot;,
    &quot;l.postcode = r.postcode and l.forename1_dm = r.forename1_dm and l.forename2_dm = r.forename2_dm and l.surname_dm = r.surname_dm&quot;,
    &quot;l.forename1_dm = r.forename1_dm and l.forename2_dm = r.forename2_dm and l.surname_dm = r.surname_dm and l.occupation = r.occupation&quot;,
    &quot;l.outward_postcode_std = r.outward_postcode_std and l.forename1_std = r.forename1_std and l.surname_std = r.surname_std&quot;,
]</code></pre></div><p>In these rules &#x27;dm&#x27; stands for the dmetaphone of a variable.</p><p>Since this is a rules based model, there are no match scores and thus only a single point is reachable in ROC space.</p><h3>Model 1</h3><p>The full settings for this model are <a href="https://github.com/moj-analytical-services/splink_synthetic_data_performance_comparisons/blob/8daa5dbddae7079c2569609a00c57fd0c7c60559/model_training/person/uk_citizens_max_groupsize_20/compare_models/00_estimate_m_u/glue_py_resources/splink_settings.py#L62">here</a>.</p><p>In this model, a match weights are computed each of the seven columns using a simple two-level check of equality.</p><p>The match weights are as follows:</p><div></div><h3>Model 2</h3><p>The full settings for this model are <a href="https://github.com/moj-analytical-services/splink_synthetic_data_performance_comparisons/blob/8daa5dbddae7079c2569609a00c57fd0c7c60559/model_training/person/uk_citizens_max_groupsize_20/compare_models/00_estimate_m_u/glue_py_resources/splink_settings.py#L89">here</a>.</p><p>The model is the same as model 1, except:</p><ul><li><code class="language-text">forename1_std</code> and <code class="language-text">surname_std</code> compute a separate match weight for a fuzzy match, where the name does not exactly match, but the jaro winker score is &gt;0.88</li><li><code class="language-text">dob</code> and <code class="language-text">postcode</code> compute a separate match weight for a fuzzy match, whereby there&#x27;s a single letter typo (a levenshtein distance of 1)</li></ul><p>The match weights are as follows:</p><div></div><h3>Model 3</h3><p>The full settings for this model are <a href="https://github.com/moj-analytical-services/splink_synthetic_data_performance_comparisons/blob/8daa5dbddae7079c2569609a00c57fd0c7c60559/model_training/person/uk_citizens_max_groupsize_20/compare_models/00_estimate_m_u/glue_py_resources/splink_settings.py#L120">here</a>.</p><p>In this model, a larger number of match weights are computed for each column:</p><ul><li><code class="language-text">forename1_std</code>, <code class="language-text">forename2_std</code> and <code class="language-text">surname_std</code> have four match weights, corresponding to an exact match, jaro winker score of &gt;0.88, jaro winker score of &gt; 0.7 and no match.</li><li><code class="language-text">dob</code> has an additional match weight relative to model 2, covering &#x27;suspicious&#x27; dates of birth on 1st January. In the dataset, these occur disproportionately, presumably because when the precise dob is unknown, the 1st of January is entered as a default</li><li><code class="language-text">postcode</code> has 5 match weights, which are computed based on various geographic distances between postcodes, and possible typos</li><li><code class="language-text">occupation</code> is a simple two level equality check</li></ul><p>The match weights are as follows:</p><div></div><h3>Model 4</h3><p>Model 4 is the same as model 3, but in addition term frequency adjustments are made for each column.</p><p>The average match weights for model 4 are the same as those for model 3, above.</p><h3>Model 5</h3><p>Model 5 is the same as model 4, but we allow weighted term frequency adjustments for partial matches. The specific weights can be found <a href="https://github.com/moj-analytical-services/splink_synthetic_data_performance_comparisons/blob/354682ac50a422515a65d1b0fbfbd0fd7c8d8621/model_training/person/uk_citizens_max_groupsize_20/compare_models/00_estimate_m_u/glue_py_resources/splink_settings.py#L222">here</a>.</p><p>For example, this allows a term-frequency adjustment to be made for a fuzzy match of <code class="language-text">Robin</code> vs <code class="language-text">Robim</code> (note the typo). The weight moderates the strength of this adjustment downwards by a fixed multiple.</p><p>The average match weights for model 5 are the same as those for model 3, above.</p><h3>Model training</h3><p>Since our data is fully labelled, it&#x27;s possible to compute match weights directly from the labels rather than estimate them. This means that any differences in accuracy can be attributed solely to the differences in how the records are compared (the feature engineering), as opposed to any problems that could occur in training.</p><h3>Runtimes</h3><p>The more complex models involve more computation, and so they take longer to run. In practice, how much does this matter?</p><p>The following chart shows that increase in runtime for the more complex models is relatively modest.</p><div></div><p>The term frequency adjustment used in Model 4 have the greatest impact on runtime, but even then, the runtime is only 8% longer than the simplest model.</p><h3>Caveats</h3><p>Further experiments would be needed to determine the extent to which these results generalisable to other datasets. One particular caveat is that the synthetic dataset deliberately contains many errors: there are many records which are of such poor quality that they are difficult to match. This makes it suitable for testing different models, and finding which perform best against these hard-to-match records.</p><p>However, for use cases which much higher quality datasets, most of the records will be easy to match, so the gains from using more complex models are likely to be less dramatic.</p><h2>Conclusions</h2><p>The experiments outlined in this post suggest that more complex probabilistic linkage models dramatically outperform simpler models. For many use cases, the effort of configuring these models, and the modest addition runtimes, are likely to be worth it.</p><p>In <a href="https://www.robinlinacre.com/comparing_splink_models_unsupervised/">part 2</a> I consider whether these results change when we use unsupervised learning to estimate model parameters.</p></div><div><style data-emotion-css="mh6tuh">.css-mh6tuh{margin-top:1rem;margin-bottom:0.5rem;}</style><hr class="css-mh6tuh"/><style data-emotion-css="bqngck">.css-bqngck{margin-left:auto;margin-right:auto;width:80%;max-width:640px;}</style><footer class="css-bqngck"><style data-emotion-css="xi606m">.css-xi606m{text-align:center;}</style><p class="css-xi606m"><a href="/">Back to homepage.</a></p><p class="css-xi606m">  This site is built using <a href="https://observablehq.com">Observable HQ</a> and <a href="https://gatsbyjs.org">Gatsby.js</a>. Source code <a href="https://github.com/robinl/robinlinacre">here</a>.</p></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-149828982-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/comparing_splink_models/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-fd41d3bba3dba0c60639.js"],"app":["/app-388afa8abea0cc1a2336.js"],"component---src-pages-backing-vega-lite-jsx":["/component---src-pages-backing-vega-lite-jsx-63254e02df70e7c77902.js"],"component---src-pages-bird-quiz-jsx":["/component---src-pages-bird-quiz-jsx-76a3ca9d7eb81e7a735d.js"],"component---src-pages-birdsong-jsx":["/component---src-pages-birdsong-jsx-cc77aa4d27fb90fdc068.js"],"component---src-pages-carbon-electric-car-jsx":["/component---src-pages-carbon-electric-car-jsx-1b3caf199d9ca894973d.js"],"component---src-pages-command-control-jsx":["/component---src-pages-command-control-jsx-904e1cdfbb5b45e251a3.js"],"component---src-pages-comparing-splink-models-jsx":["/component---src-pages-comparing-splink-models-jsx-5e61e9b8f53efb46401f.js"],"component---src-pages-comparing-splink-models-unsupervised-jsx":["/component---src-pages-comparing-splink-models-unsupervised-jsx-161f5e6f706b4e957301.js"],"component---src-pages-country-energy-usage-jsx":["/component---src-pages-country-energy-usage-jsx-4d5f0ea595d1b1220628.js"],"component---src-pages-demystifying-arrow-jsx":["/component---src-pages-demystifying-arrow-jsx-9e069608a7c83c17f1b6.js"],"component---src-pages-effective-testing-jsx":["/component---src-pages-effective-testing-jsx-a31625c90ed47a22a7e6.js"],"component---src-pages-energy-usage-jsx":["/component---src-pages-energy-usage-jsx-1e661604c5f07102b35b.js"],"component---src-pages-fill-country-solar-jsx":["/component---src-pages-fill-country-solar-jsx-fd20faeb8a72c4b31c91.js"],"component---src-pages-flight-distance-jsx":["/component---src-pages-flight-distance-jsx-93cd2c5dfebb8d7b6f40.js"],"component---src-pages-flights-jsx":["/component---src-pages-flights-jsx-f9e8f66cde2f94ad8945.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-22965823447488b3bac6.js"],"component---src-pages-interactive-blogging-jsx":["/component---src-pages-interactive-blogging-jsx-cb7503a8af29210cdf47.js"],"component---src-pages-interactive-fellegi-sunter-jsx":["/component---src-pages-interactive-fellegi-sunter-jsx-60cdab99156b1b8240df.js"],"component---src-pages-intro-to-probabilistic-linkage-jsx":["/component---src-pages-intro-to-probabilistic-linkage-jsx-3a5546ce317d8be79fd6.js"],"component---src-pages-introducing-splink-jsx":["/component---src-pages-introducing-splink-jsx-61f3e037b080e380c1cc.js"],"component---src-pages-just-jsx":["/component---src-pages-just-jsx-506116489072209dbc93.js"],"component---src-pages-left-join-jsx":["/component---src-pages-left-join-jsx-e136dea1cedba64e6d86.js"],"component---src-pages-linkage-1-jsx":["/component---src-pages-linkage-1-jsx-55d763c7212d3128c9d2.js"],"component---src-pages-m-u-generator-jsx":["/component---src-pages-m-u-generator-jsx-3124683e8dc29ebbcc78.js"],"component---src-pages-m-u-generator-starting-jsx":["/component---src-pages-m-u-generator-starting-jsx-9a89af2e218f16ab09f8.js"],"component---src-pages-match-weight-dependencies-jsx":["/component---src-pages-match-weight-dependencies-jsx-85b0ee9249b9e70444fe.js"],"component---src-pages-maths-of-fellegi-sunter-jsx":["/component---src-pages-maths-of-fellegi-sunter-jsx-c11ee89ea5c7a0d86213.js"],"component---src-pages-offsetting-renewables-jsx":["/component---src-pages-offsetting-renewables-jsx-e3b6f09480e3e9a2ab74.js"],"component---src-pages-open-sourcing-analytical-work-jsx":["/component---src-pages-open-sourcing-analytical-work-jsx-a47cab9bad3882ff45e1.js"],"component---src-pages-parquet-api-jsx":["/component---src-pages-parquet-api-jsx-e38ea57ac6e0981cf76e.js"],"component---src-pages-probabilistic-linkage-jsx":["/component---src-pages-probabilistic-linkage-jsx-b293316db1499ffc56b6.js"],"component---src-pages-questions-senior-leaders-jsx":["/component---src-pages-questions-senior-leaders-jsx-5522897421ff3134f7ec.js"],"component---src-pages-spark-explain-jsx":["/component---src-pages-spark-explain-jsx-f6fa65a1ca21a608888b.js"],"component---src-pages-spark-sort-jsx":["/component---src-pages-spark-sort-jsx-2500b19b677525fe9785.js"],"component---src-pages-splink-3-jsx":["/component---src-pages-splink-3-jsx-0cab954300d4c5930ced.js"],"component---src-pages-thorniest-problem-of-analytical-platforms-jsx":["/component---src-pages-thorniest-problem-of-analytical-platforms-jsx-28aa6f44e7d317a29f63.js"],"component---src-pages-transforming-analytical-functions-jsx":["/component---src-pages-transforming-analytical-functions-jsx-b19b2228ba775d9c10c0.js"],"component---src-pages-understanding-match-weights-jsx":["/component---src-pages-understanding-match-weights-jsx-b85ca717b4b284ebee3c.js"],"component---src-pages-visualising-fellegi-sunter-jsx":["/component---src-pages-visualising-fellegi-sunter-jsx-cb07b0cf356804ab9fde.js"]};/*]]>*/</script><script src="/polyfill-fd41d3bba3dba0c60639.js" nomodule=""></script><script src="/component---src-pages-comparing-splink-models-jsx-5e61e9b8f53efb46401f.js" async=""></script><script src="/13508462cd12b52eabd506f7d6d69b1c3cb4384b-5bc6b82f95fddc67b19c.js" async=""></script><script src="/e0f9d6167c3a44973790d74c7dcf74edce12167a-1bc1118684b95d9a78fd.js" async=""></script><script src="/commons-980b0fe5138476c17c20.js" async=""></script><script src="/1bfc9850-4bc05ed972012318fda2.js" async=""></script><script src="/app-388afa8abea0cc1a2336.js" async=""></script><script src="/framework-24ad6bf468f69b85cc4b.js" async=""></script><script src="/webpack-runtime-c24f5b1f4a9c5e0ec8c8.js" async=""></script></body></html>