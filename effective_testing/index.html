<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.5625 'Source Sans Pro',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Source Sans Pro',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;color:hsla(0,0%,0%,1);font-family:'Source Serif Pro',sans-serif;font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}ul{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.78125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:0.85rem;line-height:1.5625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:1rem;line-height:1.5625rem;border-collapse:collapse;width:null;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}blockquote{margin-left:0;margin-right:1.5625rem;margin-top:0;padding-bottom:0;padding-left:1.75781rem;padding-right:0;padding-top:0;margin-bottom:1.5625rem;font-size:null;line-height:1.5625rem;color:hsla(0,0%,0%,0.59);border-left:0.58594rem solid;border-color:hsla(0,0%,0%,0.19);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5625rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5625rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.5625rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}li > ul{margin-left:1.5625rem;margin-bottom:calc(1.5625rem / 2);margin-top:calc(1.5625rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5625rem / 2);}code{font-size:0.85rem;line-height:1.5625rem;}kbd{font-size:0.85rem;line-height:1.5625rem;}samp{font-size:0.85rem;line-height:1.5625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.04167rem;padding-right:1.04167rem;padding-top:0.78125rem;padding-bottom:calc(0.78125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:null;text-decoration:none;}a:hover,a:active{color:null;}h1,h2,h3,h4,h5,h6{margin-top:3.125rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.5625rem;color:hsla(0,0%,0%,0.8);font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){blockquote{margin-left:-1.17188rem;margin-right:0;border-left:0.29297rem solid;border-color:#fcea0e;padding-left:0.87891rem;}}h1,h2,h3,h4,h5{margin-top:1.5625rem;}td, th{padding:0.19531rem;}@media only screen and (max-width: 480px){blockquote{border-color: hsla(0,0%,0%,0.19)}}{}</style><style data-href="/styles.9359f0cff456472c71e0.css" id="gatsby-global-css">html{background-color:"white"}code[class*=language-],pre[class*=language-]{color:#393a34;font-family:Consolas,Bitstream Vera Sans Mono,Courier New,Courier,monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;font-size:.9em;line-height:1.2em;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre>code[class*=language-]{font-size:1em}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#c1def1}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border:1px solid #ddd;background-color:#fff}:not(pre)>code[class*=language-]{padding:1px .2em;background:#f8f8f8;border:1px solid #ddd}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:green;font-style:italic}.token.namespace{opacity:.7}.token.string{color:#a31515}.token.operator,.token.punctuation{color:#393a34}.token.boolean,.token.constant,.token.inserted,.token.number,.token.symbol,.token.url,.token.variable{color:#36acaa}.language-autohotkey .token.selector,.language-json .token.boolean,.language-json .token.number,.token.atrule,.token.attr-value,.token.keyword,code[class*=language-css]{color:#00f}.token.function{color:#393a34}.language-autohotkey .token.tag,.token.deleted{color:#9a050f}.language-autohotkey .token.keyword,.token.selector{color:#00009f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.language-json .token.property,.token.class-name{color:#2b91af}.token.selector,.token.tag{color:maroon}.token.attr-name,.token.entity,.token.property,.token.regex{color:red}.token.directive.tag .tag{background:#ff0;color:#393a34}.line-numbers .line-numbers-rows{border-right-color:#a5a5a5}.line-numbers-rows>span:before{color:#2b91af}.line-highlight{background:rgba(193,222,241,.2);background:linear-gradient(90deg,rgba(193,222,241,.2) 70%,rgba(221,222,241,0))}.header-module--header--2ea3u{background-color:#fff;margin-bottom:0}.header-module--robin--Jklmt,.header-module--robin--Jklmt a{font-weight:700;color:#000}.header-module--black_link--2DzPY{color:#000}nav ul{list-style:none;display:flex;margin-bottom:0}li{padding-left:1em;padding-right:1em}.header-module--navbar--1JzT0{display:flex}.header-module--middlespace--2ErxQ{margin-left:auto;margin-right:auto}code{font-size:.85em}</style><meta name="generator" content="Gatsby 3.4.1"/><title data-react-helmet="true">Effective testing of analytical models using automated sense checks</title><link data-react-helmet="true" rel="canonical" href="https://www.robinlinacre.com/effective_testing/"/><meta data-react-helmet="true" name="description" content="Effective testing of analytical models using automated sense checks"/><meta data-react-helmet="true" name="image" content="https://www.robinlinacre.com/images/favicon-32x32.png"/><meta data-react-helmet="true" property="og:url" content="https://www.robinlinacre.com/effective_testing/"/><meta data-react-helmet="true" property="og:title" content="Effective testing of analytical models using automated sense checks"/><meta data-react-helmet="true" property="og:description" content="Effective testing of analytical models using automated sense checks"/><meta data-react-helmet="true" name="title" content="Effective testing of analytical models using automated sense checks"/><meta data-react-helmet="true" property="og:image" content="https://www.robinlinacre.com/images/favicon-32x32.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@robinl"/><meta data-react-helmet="true" name="twitter:title" content="Effective testing of analytical models using automated sense checks"/><meta data-react-helmet="true" name="twitter:description" content="Effective testing of analytical models using automated sense checks"/><meta data-react-helmet="true" name="twitter:image" content="https://www.robinlinacre.com/images/favicon-32x32.png"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link href="//fonts.googleapis.com/css?family=Source+Serif+Pro:600|Source+Sans+Pro:400,400i,700" rel="stylesheet" type="text/css"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link as="script" rel="preload" href="/webpack-runtime-c24f5b1f4a9c5e0ec8c8.js"/><link as="script" rel="preload" href="/framework-24ad6bf468f69b85cc4b.js"/><link as="script" rel="preload" href="/app-388afa8abea0cc1a2336.js"/><link as="script" rel="preload" href="/1bfc9850-4bc05ed972012318fda2.js"/><link as="script" rel="preload" href="/commons-980b0fe5138476c17c20.js"/><link as="script" rel="preload" href="/e0f9d6167c3a44973790d74c7dcf74edce12167a-1bc1118684b95d9a78fd.js"/><link as="script" rel="preload" href="/component---src-pages-effective-testing-jsx-a31625c90ed47a22a7e6.js"/><link as="fetch" rel="preload" href="/page-data/effective_testing/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4202924991.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><header class="header-module--header--2ea3u"><nav><ul><style data-emotion-css="4no1hk">.css-4no1hk{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;}</style><style data-emotion-css="l60q3f">.css-l60q3f{color:black;margin-bottom:0.78125rem;margin-top:0.78125rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;}</style><li class="header-module--robin--Jklmt css-l60q3f e11v94p0"><a href="/">&gt;robinlinacre</a></li><style data-emotion-css="md9jdw">.css-md9jdw{color:black;margin-bottom:0.78125rem;margin-top:0.78125rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;}</style><li class="header-module--middlespace--2ErxQ css-md9jdw e11v94p0"></li><li class="css-md9jdw e11v94p0"><style data-emotion-css="1xu3tth">.css-1xu3tth{color:black;}</style><a href="https://twitter.com/RobinLinacre" class="css-1xu3tth e11v94p1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="css-md9jdw e11v94p0"><a href="https://github.com/robinl/" class="css-1xu3tth e11v94p1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li><li class="css-md9jdw e11v94p0"><a href="/"><a href="" class="css-1xu3tth e11v94p1"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg></a></a></li></ul></nav><hr/></header><style data-emotion-css="19qkhea">.css-19qkhea{margin-left:auto;margin-right:auto;width:90%;max-width:640px;}</style><div class="css-19qkhea"><div style="color:#b7b5bd;margin-bottom:0;padding-bottom:0"><p>Originally posted: <!-- -->2019-08-26<!-- -->. <!-- -->View source code for this page<!-- --> <a href="https://github.com/RobinL/robinl.github.io/blob/dev/src/mdx/effective_testing.mdx">here</a>.</p></div><h1>Effective testing of analytical models using automated sense checks</h1><p>I once worked for a slightly terrifying senior analyst.</p><p>When presenting my modelling results to her, she would often do a back-of-the-envelope calculation of her own, to estimate roughly what she expected the answer to be. If our answers differed, I knew she would challenge me to explain why.</p><p>This was an effective technique because if my explanation was unconvincing, it probably meant either my model was wrong, or I didn’t understand it well enough to trust it.</p><p>I now think of her approach as a manual form of <a href="https://en.wikipedia.org/wiki/Integration_testing">integration testing</a> which is well-suited to analytical models. These ‘sense check’ tests are some of the most important tests of a model. They typically take the form of an expectation that a value within the model will fall between a plausible upper and lower bound. Re-imagined as automated test of analytical code, these checks can be applied all the way from low level calculations thorough to high level results to ensure that modelling results make sense and can be explained.</p><p>Because they test the answer rather than the details of the implementation, they have analytical meaning independently from the code. This means they can be written early on in the modelling process. They’re therefore capable of spotting errors earlier, increasing their value to the analyst.</p><p>They’re so valuable that I think that automating these sorts of tests should be a standard part of analytical quality assurance.</p><p>In contrast to technical-sounding ‘<a href="https://en.wikipedia.org/wiki/Unit_testing">unit</a>’ and ‘<a href="https://en.wikipedia.org/wiki/Integration_testing">integration</a>’ tests, analysts can readily see the value of automated ‘sense checks’, so they are easier to explain and more likely to be adopted. Presenting your results to your boss suddenly becomes much less scary if you know for sure your model isn’t doing anything crazy.</p><p>And more importantly, these ‘sense checks’ are likely to be more effective than many unit tests. It’s all too easy to descend into writing perfunctory unit tests, which are often the result of an analyst being told unit tests are necessary without understanding when and why they are valuable.</p><p>None of this is to say unit tests are not valuable when used effectively. They can be an important complement of sense checks, and at lower-layers of a model sense checks sometimes <em>are </em>unit tests.</p><p>By starting out with sense checks, analysts are introduced to a type of testing of their code which obviously improves the robustness of the modelling result. By considering why these tests have value, it should help them start to design other unit tests which are more valuable — favouring tests which have well-defined analytical meaning and are easy to maintain as the model evolves, and avoiding tests that offer little protection and get in the way of code re-factoring or model generalisation.</p><h3>An example</h3><p>The rest of this post is more technical. It makes the above ideas more concrete with some real-life examples of the kind of ‘sense check’ tests I describe.</p><p>The context for these examples is a simple personal project: an energy usage calculator I have building to better understand how different types of energy usage compare. For instance, how does owning a dog compare to driving 10,000 miles? Note: This project is still <em>work in progress, but you can see its current state <a href="https://observablehq.com/@robinl/energy-usage-calculator-for-everyday-activities">here</a></em>.</p><p>This project involves a lot of unit conversions — e.g. miles driven ➡litres of petrol➡ joules of energy ➡kilowatt hours, each one with the potential for error. It also involves a lot of rough-order-of-magnitude calculations such as ‘how many joules of energy does it take to produce one joule of edible food’.</p><p>Here are some ‘sense checks’ I’ve written:</p><p><strong>Bottom up</strong></p><ul><li><p>Do my estimates of car energy usage for a moderately efficient car fall between estimates on Wikipedia of a highly inefficient and highly efficient car. See <a href="https://github.com/RobinL/energy_usage/blob/242c73299027404a5f16527a8da74446ad254b53/test/driving-test.js#L12">here</a>.</p></li><li><p>Is my estimate of the embodied energy in ‘stuff’ like consumer electronics within reasonable plausible bounds. Specifically, is it less than the energy from buying and burning petrol (minus fuel duty) and more than one-tenth that amount? See <a href="https://github.com/RobinL/energy_usage/blob/45ed98b330cf1bd41e45960ef4789ba5b782ae25/test/stuff-test.js#L13">here</a>.</p></li><li><p>Does the energy required to produce the food to feed an average man lie within plausible bounds — between a lower-bound food intake with a low food-production multiplier, and a similar higher bound. See <a href="https://github.com/RobinL/energy_usage/blob/9032d19a5889e8eaebf927d6b2db7bc12a5d3c48/test/eating-test.js#L21">here</a>.</p></li><li><p>Does the energy required to feed a dog fall within a sensible range of the energy required to feed a human omnivore of similar weight? See <a href="https://github.com/RobinL/energy_usage/blob/9032d19a5889e8eaebf927d6b2db7bc12a5d3c48/test/pets-test.js#L29">here</a>.</p></li><li><p>Does <a href="https://observablehq.com/@robinl/derive-effect-of-changing-thermometer-on-kwh-requirements">turning down the thermostat</a> from 20 to 19 degrees give a plausible energy saving. I guessed at between 10 and 15 per cent. I think it’s fine to use these kind of somewhat-arbitrary ranges. If your tests fail, you can think harder about why, and adjust the range, making an appropriate note of the explanation. See <a href="https://github.com/RobinL/energy_usage/blob/94a2a8505324bb903a41cbd1b492b4e80a756a79/test/heating-test.js#L9">here</a>.</p></li></ul><p><strong>Tests of internal consistency of calculations.</strong></p><ul><li>Is the energy required to feed a dog roughly consistent with estimates of the energy embodied in ‘stuff’. See <a href="https://github.com/RobinL/energy_usage/blob/9032d19a5889e8eaebf927d6b2db7bc12a5d3c48/test/pets-test.js#L29">here</a>.</li></ul><p><strong>Top down</strong></p><ul><li>Totalling up energy consumption for a fairly average person, is it within some sensible bounds of average per-capita usage. See <a href="https://github.com/RobinL/energy_usage/blob/master/test/overall-test.js">here</a>.</li></ul><p>And to give a flavour of the unit tests which I think are valuable:</p><ul><li><p>My unit conversion code automatically detects all possible ‘chained’ unit conversions and reciprocal unit conversions, minimising the list of hard coded values. For instance, by defining hours➡ minutes and minutes➡ seconds, it should successfully be able to compute convert_units(&quot;hours&quot;, &quot;seconds&quot;)Obviously, there is scope for bugs in this code. As such I test a couple of these derived conversions, and reciprocal conversions — see <a href="https://github.com/RobinL/energy_usage/blob/f8c52549040c8e4d84225a5c95aef419cbbc5509/test/constants-test.js#L10">here</a>.</p></li><li><p>Simple test cases of basic functions. For instance If I drive 30 miles in a 30 mpg car, do I use one gallon of petrol? See <a href="https://github.com/RobinL/energy_usage/blob/f8c52549040c8e4d84225a5c95aef419cbbc5509/test/driving-test.js#L6">here</a>.</p></li></ul><p>These tests run automatically every time my code is changed and uploaded to its Github repository. I use <a href="https://github.com/RobinL/energy_usage/blob/242c73299027404a5f16527a8da74446ad254b53/.github/workflows/nodejs.yml">Github Actions to run these tests</a>, which is a type of continuous integration that’s very easy to set up.</p><p>Overall, do my tests provide a guarantee the calculations are correct? Definitely not. But they do give me a great deal of confidence they’re not too far out, that I haven’t made any all-too-common mistakes like sign errors, and that I have a well-defined defence of my estimates within my code. And for rough estimates, that’s probably good enough.</p></div><div><style data-emotion-css="mh6tuh">.css-mh6tuh{margin-top:1rem;margin-bottom:0.5rem;}</style><hr class="css-mh6tuh"/><style data-emotion-css="bqngck">.css-bqngck{margin-left:auto;margin-right:auto;width:80%;max-width:640px;}</style><footer class="css-bqngck"><style data-emotion-css="xi606m">.css-xi606m{text-align:center;}</style><p class="css-xi606m"><a href="/">Back to homepage.</a></p><p class="css-xi606m">  This site is built using <a href="https://observablehq.com">Observable HQ</a> and <a href="https://gatsbyjs.org">Gatsby.js</a>. Source code <a href="https://github.com/robinl/robinlinacre">here</a>.</p></footer></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-149828982-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/effective_testing/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-fd41d3bba3dba0c60639.js"],"app":["/app-388afa8abea0cc1a2336.js"],"component---src-pages-backing-vega-lite-jsx":["/component---src-pages-backing-vega-lite-jsx-63254e02df70e7c77902.js"],"component---src-pages-bird-quiz-jsx":["/component---src-pages-bird-quiz-jsx-76a3ca9d7eb81e7a735d.js"],"component---src-pages-birdsong-jsx":["/component---src-pages-birdsong-jsx-cc77aa4d27fb90fdc068.js"],"component---src-pages-carbon-electric-car-jsx":["/component---src-pages-carbon-electric-car-jsx-1b3caf199d9ca894973d.js"],"component---src-pages-command-control-jsx":["/component---src-pages-command-control-jsx-904e1cdfbb5b45e251a3.js"],"component---src-pages-comparing-splink-models-jsx":["/component---src-pages-comparing-splink-models-jsx-5e61e9b8f53efb46401f.js"],"component---src-pages-comparing-splink-models-unsupervised-jsx":["/component---src-pages-comparing-splink-models-unsupervised-jsx-161f5e6f706b4e957301.js"],"component---src-pages-country-energy-usage-jsx":["/component---src-pages-country-energy-usage-jsx-4d5f0ea595d1b1220628.js"],"component---src-pages-demystifying-arrow-jsx":["/component---src-pages-demystifying-arrow-jsx-9e069608a7c83c17f1b6.js"],"component---src-pages-effective-testing-jsx":["/component---src-pages-effective-testing-jsx-a31625c90ed47a22a7e6.js"],"component---src-pages-energy-usage-jsx":["/component---src-pages-energy-usage-jsx-1e661604c5f07102b35b.js"],"component---src-pages-fill-country-solar-jsx":["/component---src-pages-fill-country-solar-jsx-fd20faeb8a72c4b31c91.js"],"component---src-pages-flight-distance-jsx":["/component---src-pages-flight-distance-jsx-93cd2c5dfebb8d7b6f40.js"],"component---src-pages-flights-jsx":["/component---src-pages-flights-jsx-f9e8f66cde2f94ad8945.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-22965823447488b3bac6.js"],"component---src-pages-interactive-blogging-jsx":["/component---src-pages-interactive-blogging-jsx-cb7503a8af29210cdf47.js"],"component---src-pages-interactive-fellegi-sunter-jsx":["/component---src-pages-interactive-fellegi-sunter-jsx-60cdab99156b1b8240df.js"],"component---src-pages-intro-to-probabilistic-linkage-jsx":["/component---src-pages-intro-to-probabilistic-linkage-jsx-3a5546ce317d8be79fd6.js"],"component---src-pages-introducing-splink-jsx":["/component---src-pages-introducing-splink-jsx-61f3e037b080e380c1cc.js"],"component---src-pages-just-jsx":["/component---src-pages-just-jsx-506116489072209dbc93.js"],"component---src-pages-left-join-jsx":["/component---src-pages-left-join-jsx-e136dea1cedba64e6d86.js"],"component---src-pages-linkage-1-jsx":["/component---src-pages-linkage-1-jsx-55d763c7212d3128c9d2.js"],"component---src-pages-m-u-generator-jsx":["/component---src-pages-m-u-generator-jsx-3124683e8dc29ebbcc78.js"],"component---src-pages-m-u-generator-starting-jsx":["/component---src-pages-m-u-generator-starting-jsx-9a89af2e218f16ab09f8.js"],"component---src-pages-match-weight-dependencies-jsx":["/component---src-pages-match-weight-dependencies-jsx-85b0ee9249b9e70444fe.js"],"component---src-pages-maths-of-fellegi-sunter-jsx":["/component---src-pages-maths-of-fellegi-sunter-jsx-c11ee89ea5c7a0d86213.js"],"component---src-pages-offsetting-renewables-jsx":["/component---src-pages-offsetting-renewables-jsx-e3b6f09480e3e9a2ab74.js"],"component---src-pages-open-sourcing-analytical-work-jsx":["/component---src-pages-open-sourcing-analytical-work-jsx-a47cab9bad3882ff45e1.js"],"component---src-pages-parquet-api-jsx":["/component---src-pages-parquet-api-jsx-e38ea57ac6e0981cf76e.js"],"component---src-pages-probabilistic-linkage-jsx":["/component---src-pages-probabilistic-linkage-jsx-b293316db1499ffc56b6.js"],"component---src-pages-questions-senior-leaders-jsx":["/component---src-pages-questions-senior-leaders-jsx-5522897421ff3134f7ec.js"],"component---src-pages-spark-explain-jsx":["/component---src-pages-spark-explain-jsx-f6fa65a1ca21a608888b.js"],"component---src-pages-spark-sort-jsx":["/component---src-pages-spark-sort-jsx-2500b19b677525fe9785.js"],"component---src-pages-splink-3-jsx":["/component---src-pages-splink-3-jsx-0cab954300d4c5930ced.js"],"component---src-pages-thorniest-problem-of-analytical-platforms-jsx":["/component---src-pages-thorniest-problem-of-analytical-platforms-jsx-28aa6f44e7d317a29f63.js"],"component---src-pages-transforming-analytical-functions-jsx":["/component---src-pages-transforming-analytical-functions-jsx-b19b2228ba775d9c10c0.js"],"component---src-pages-understanding-match-weights-jsx":["/component---src-pages-understanding-match-weights-jsx-b85ca717b4b284ebee3c.js"],"component---src-pages-visualising-fellegi-sunter-jsx":["/component---src-pages-visualising-fellegi-sunter-jsx-cb07b0cf356804ab9fde.js"]};/*]]>*/</script><script src="/polyfill-fd41d3bba3dba0c60639.js" nomodule=""></script><script src="/component---src-pages-effective-testing-jsx-a31625c90ed47a22a7e6.js" async=""></script><script src="/e0f9d6167c3a44973790d74c7dcf74edce12167a-1bc1118684b95d9a78fd.js" async=""></script><script src="/commons-980b0fe5138476c17c20.js" async=""></script><script src="/1bfc9850-4bc05ed972012318fda2.js" async=""></script><script src="/app-388afa8abea0cc1a2336.js" async=""></script><script src="/framework-24ad6bf468f69b85cc4b.js" async=""></script><script src="/webpack-runtime-c24f5b1f4a9c5e0ec8c8.js" async=""></script></body></html>