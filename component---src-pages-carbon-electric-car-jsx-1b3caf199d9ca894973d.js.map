{"version":3,"sources":["webpack://gatsby-starter-hello-world/./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","webpack://gatsby-starter-hello-world/./src/components/mdx_obs_page.jsx","webpack://gatsby-starter-hello-world/./node_modules/@robinl/the-carbon-impact-of-switiching-to-an-electric-car/7764a40fe6b83ca1@427.js","webpack://gatsby-starter-hello-world/./node_modules/@robinl/the-carbon-impact-of-switiching-to-an-electric-car/a74844ec61541eb4@1053.js","webpack://gatsby-starter-hello-world/./src/pages/carbon_electric_car.jsx"],"names":["_taggedTemplateLiteral","strings","raw","slice","Object","freeze","defineProperties","value","props","post","define","output_order","children","css","className","title","post_frontmatter","description","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_templateObject19","_templateObject20","_templateObject21","_templateObject22","_templateObject23","_templateObject24","_templateObject25","_templateObject26","_templateObject27","_templateObject28","_templateObject29","_templateObject30","_templateObject31","_templateObject32","_templateObject33","_templateObject34","_templateObject35","_templateObject36","_templateObject37","_templateObject38","_templateObject39","_templateObject40","_templateObject41","_1","md","_2","_3","_vl","_x","_vl2","apply","this","arguments","_callee","require","_yield$Promise$all","_yield$Promise$all2","vega","vegalite","api","tooltip","options","_context","prev","next","Promise","all","map","module","sent","config","view","continuousWidth","continuousHeight","mark","init","Handler","call","container","style","loader","baseURL","renderer","abrupt","register","stop","_5","_zip_codes","_7","vl","width","markSquare","size","opacity","data","transform","calculate","as","project","projection","encode","longitude","fieldQ","latitude","color","fieldN","height","Math","floor","autosize","type","contains","stroke","render","_interactive_weather","_9","brush","selectInterval","encodings","click","selectMulti","scale","domain","range","plot1","markPoint","filled","if","order","sort","x","timeMD","axis","format","y","select","filter","plot2","markBar","count","vconcat","_parallel_coordinats","_11","lines","markLine","strokeWidth","detail","fieldO","padding","ticks","grid","gridColor","labelAngle","labelPadding","labelFontWeight","labels","markText","dx","align","baseline","groupby","aggregate","min","max","fold","window","percent_rank","text","field","layer","row_number","join","_standalone_use","runtime","observer","main","variable","_title","_para_1","_title_assumptions","_ice_mileage_md","inputs","html","$0","km_miles_unit_select","$1","bind","_elec_mileage_md","_total_emissions_ice_md","_total_emissions_elec_md","_ice_vehicle_emissions_md","ice_emissions_unit_select","_uplift_md","_elec_miles_kwh_md","elec_emissions_unit_select","_carbon_intensity_md","_results_title","_results_para_1","total_ice_emissions","total_elec_emissions","additional_emissions_ice","toPrecision","_results_chart","embed","total_emissions_data","sum","stack","y2","dy","toSpec","_results_table","marginal_ice_emissions_gCO2km","marginal_elec_emissions_gCO2km","average_ice_emissions_gCO2km","average_elec_emissions_gCO2km","toFixed","_results_carbon_offset","_replace_para_1","_replace_para_2","_replace_para_3","ice_emissions_for_marginal_useage","toLocaleString","maximumFractionDigits","_breakeven_electric","break_even_distance","_breakeven_electric_chart","break_even_data","markrule_be","text_be","_further_considerations","_annex","_24","_break_even_distance","elec_production_emissions_tonnes","ice_production_emissions_tonnes","_break_even_data","total_ice_km","ice_emissions_from_use","elec_emissions_from_use","p","rows","id","push","_text_be","angle","xOffset","yOffset","values","be_text","y_pos","mytext","_markrule_be","markRule","strokeDash","rule","_29","_total_emissions_data","r","_31","_chart","_33","_total_ice_km","per","ice_lifetime_distance_units","ice_lifetime_distance","concat","_total_elec_km","elec_lifetime_distance_units","elec_lifetime_distance","_marginal_ice_emissions_gCO2km","ice_emissions_unit","ice_emissions","ice_emissions_uplift_percent","direct_vehicle_emissions_gCO2km","_marginal_elec_emissions_gCO2km","elec_emissions_unit","elec_emissions","elec_carbon_intensity","distance_units","_ice_emissions_from_use","_elec_emissions_from_use","total_elec_km","_total_ice_emissions","_total_elec_emissions","_average_elec_emissions_gCO2km","_average_ice_emissions_gCO2km","_ice_distance_remaining_km","ice_distance_remaining_units","ice_distance_remaining","_ice_remaining_emissions","ice_distance_remaining_km","_elec_remaining_emissions_equivalent","_ice_emissions_for_marginal_useage","ice_remaining_emissions","elec_remaining_emissions_equivalent","_additional_emissions_ice","_49","_ice_lifetime_distance","input","_elec_lifetime_distance","_ice_lifetime_distance_units","_elec_lifetime_distance_units","_ice_production_emissions_tonnes","_elec_production_emissions_tonnes","_elec_emissions_units","_ice_emissions","_ice_emissions_unit","_ice_emissions_uplift_percent","_elec_emissions","_elec_emissions_unit","_elec_carbon_intensity","_ice_distance_remaining","_ice_distance_remaining_units","_km_miles_unit_select","_elec_emissions_unit_select","_ice_emissions_unit_select","_68","_inputs","_eu","_per","eu","convert","_embed","G","_","child1","import","frontmatter","post_date","code_url","post_type","post_category"],"mappings":"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","file":"component---src-pages-carbon-electric-car-jsx-1b3caf199d9ca894973d.js","sourcesContent":["export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","import React from 'react'\nimport Layout from \"../layouts/layout\"\nimport ObeservableNotebookDiv from \"./observable_div\"\nimport PostFrontMatter from \"./post_frontmatter\"\nimport SEO from \"../components/seo\"\n\nfunction ObsMdxPage(props) {\n\n\n  let post\n\n  if (props.define) {\n    post = <ObeservableNotebookDiv define={props.define} output_order={props.output_order} />\n  } else {\n    post = props.children\n  }\n\n  return (\n    <Layout css={props.className}>\n      <SEO title={props.post_frontmatter.title} description={props.post_frontmatter.description} />\n      <PostFrontMatter post_frontmatter={props.post_frontmatter} />\n      {post}\n    </Layout>\n  )\n\n}\n\nexport default ObsMdxPage","import _slicedToArray from \"/home/runner/work/robinl.github.io/robinl.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _asyncToGenerator from \"/home/runner/work/robinl.github.io/robinl.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"/home/runner/work/robinl.github.io/robinl.github.io/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8;\n\nimport _regeneratorRuntime from \"/home/runner/work/robinl.github.io/robinl.github.io/node_modules/@babel/runtime/regenerator\";\n\n// https://observablehq.com/@vega/vega-lite-api@427\nfunction _1(md) {\n  return md(_templateObject || (_templateObject = _taggedTemplateLiteral([\"# Vega-Lite API v4\"])));\n}\n\nfunction _2(md) {\n  return md(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"The [Vega-Lite JavaScript API](https://github.com/vega/vega-lite-api/) provides a convenient way to write [Vega-Lite](https://vega.github.io/vega-lite) specifications in a programmatic fashion. Scroll down for some usage examples, or browse the [Vega-Lite API example collection](https://observablehq.com/collection/@vega/vega-lite-api)!\\n\\nThis notebook uses **version 4** of Vega-Lite and the corresponding Vega-Lite API 4.0. _To use the more recent Vega-Lite version 5, see the [Vega-Lite API v5 notebook](https://observablehq.com/@vega/vega-lite-api-v5) instead._\\n\\nWant to learn more about data visualization and how to use the Vega-Lite API? Read the [introduction to Vega-Lite](https://observablehq.com/@uwdata/introduction-to-vega-lite) and the [data visualization curriculum](https://observablehq.com/@uwdata/data-visualization-curriculum?collection=@uwdata/visualization-curriculum).\"])));\n}\n\nfunction _3(md) {\n  return md(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\nThe cell below imports the Vega-Lite API and registers the desired versions of Vega and Vega-Lite, along with default [Vega View options](https://vega.github.io/vega/docs/api/view/#view) and [Vega-Lite configuration](https://vega.github.io/vega-lite/docs/config.html):\\n\"])));\n}\n\nfunction _vl(_x) {\n  return _vl2.apply(this, arguments);\n}\n\nfunction _vl2() {\n  _vl2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(require) {\n    var _yield$Promise$all, _yield$Promise$all2, vega, vegalite, api, tooltip, options;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return Promise.all(['vega@5.19.1', 'vega-lite@4.17.0', 'vega-lite-api@4.0.0', 'vega-tooltip@0.25.1'].map(function (module) {\n              return require(module);\n            }));\n\n          case 2:\n            _yield$Promise$all = _context.sent;\n            _yield$Promise$all2 = _slicedToArray(_yield$Promise$all, 4);\n            vega = _yield$Promise$all2[0];\n            vegalite = _yield$Promise$all2[1];\n            api = _yield$Promise$all2[2];\n            tooltip = _yield$Promise$all2[3];\n            options = {\n              config: {\n                // vega-lite default configuration\n                config: {\n                  view: {\n                    continuousWidth: 400,\n                    continuousHeight: 300\n                  },\n                  mark: {\n                    tooltip: null\n                  }\n                }\n              },\n              init: function init(view) {\n                // initialize tooltip handler\n                view.tooltip(new tooltip.Handler().call); // enable horizontal scrolling for large plots\n\n                if (view.container()) view.container().style['overflow-x'] = 'auto';\n              },\n              view: {\n                // view constructor options\n                loader: vega.loader({\n                  baseURL: 'https://cdn.jsdelivr.net/npm/vega-datasets@2/'\n                }),\n                renderer: 'canvas'\n              }\n            };\n            return _context.abrupt(\"return\", api.register(vega, vegalite, options));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _vl2.apply(this, arguments);\n}\n\nfunction _5(md) {\n  return md(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"To use the same setup in your own notebooks, add a cell with the following code:\\n~~~ js\\nimport {vl} from '@vega/vega-lite-api'\\n~~~\\nTo use the API outside of Observable, see the [stand-alone usage instructions](#standalone_use) below.\\n\"])));\n}\n\nfunction _zip_codes(md) {\n  return md(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"## Zip Codes\\n\\nA dot for each zip code in the United States, colored by the first digit.\\n\"])));\n}\n\nfunction _7(vl, width) {\n  return vl.markSquare({\n    size: 2,\n    opacity: 1\n  }).data('data/zipcodes.csv').transform(vl.calculate('substring(datum.zip_code, 0, 1)').as('digit')).project(vl.projection('albersUsa')).encode(vl.longitude().fieldQ('longitude'), vl.latitude().fieldQ('latitude'), vl.color().fieldN('digit')).width(width).height(Math.floor(width / 1.75)).autosize({\n    type: 'fit-x',\n    contains: 'padding'\n  }).config({\n    view: {\n      stroke: null\n    }\n  }).render();\n}\n\nfunction _interactive_weather(md) {\n  return md(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"## Interactive Seattle Weather 2012-2015\\n\\nA scatter plot and summary histogram with linked `selections` between plots to perform cross-filtering and configure conditional color encodings.\\n\"], [\"## Interactive Seattle Weather 2012-2015\\n\\nA scatter plot and summary histogram with linked \\\\`selections\\\\` between plots to perform cross-filtering and configure conditional color encodings.\\n\"])));\n}\n\nfunction _9(vl, width) {\n  var brush = vl.selectInterval().encodings('x');\n  var click = vl.selectMulti().encodings('color');\n  var scale = {\n    domain: ['sun', 'fog', 'drizzle', 'rain', 'snow'],\n    range: ['#e7ba52', '#a7a7a7', '#aec7e8', '#1f77b4', '#9467bd']\n  };\n  var plot1 = vl.markPoint({\n    filled: true\n  }).encode(vl.color().value('lightgray').if(brush, vl.color().fieldN('weather').scale(scale).title('Weather')), vl.size().fieldQ('precipitation').scale({\n    domain: [-1, 50],\n    range: [10, 500]\n  }).title('Precipitation'), vl.order().fieldQ('precipitation').sort('descending'), vl.x().timeMD('date').axis({\n    title: 'Date',\n    format: '%b'\n  }), vl.y().fieldQ('temp_max').scale({\n    domain: [-5, 40]\n  }).axis({\n    title: 'Maximum Daily Temperature (Â°C)'\n  })).width(width).height(300).select(brush).transform(vl.filter(click));\n  var plot2 = vl.markBar().encode(vl.color().value('lightgray').if(click, vl.color().fieldN('weather').scale(scale).title('Weather')), vl.x().count(), vl.y().fieldN('weather').scale({\n    domain: scale.domain\n  }).title('Weather')).width(width).select(click).transform(vl.filter(brush));\n  return vl.vconcat(plot1, plot2).data('data/seattle-weather.csv').autosize({\n    type: 'fit-x',\n    contains: 'padding'\n  }).render();\n}\n\nfunction _parallel_coordinats(md) {\n  return md(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"## Parallel Coordinates\\n\\nA [parallel coordinates plot](https://en.wikipedia.org/wiki/Parallel_coordinates) that uses `window` and `fold` transforms to convert the four dimensions of penguin measurements into normalized coordinates that can be visualized as `line` marks. The graphic includes an additional layer with custom `text` mark labels for the parallel axis grid lines. We render the plot as SVG by passing `{renderer:'svg'}` to the `render` method.\\n\"], [\"## Parallel Coordinates\\n\\nA [parallel coordinates plot](https://en.wikipedia.org/wiki/Parallel_coordinates) that uses \\\\`window\\\\` and \\\\`fold\\\\` transforms to convert the four dimensions of penguin measurements into normalized coordinates that can be visualized as \\\\`line\\\\` marks. The graphic includes an additional layer with custom \\\\`text\\\\` mark labels for the parallel axis grid lines. We render the plot as SVG by passing \\\\`{renderer:'svg'}\\\\` to the \\\\`render\\\\` method.\\n\"])));\n}\n\nfunction _11(vl, width) {\n  var domain = ['Beak Length (mm)', 'Beak Depth (mm)', 'Flipper Length (mm)', 'Body Mass (g)'];\n  var scale = {\n    type: 'point',\n    padding: 0\n  };\n  var axis = {\n    domain: false,\n    ticks: false,\n    title: false,\n    grid: true,\n    gridColor: '#888',\n    labelAngle: 0,\n    labelPadding: 8,\n    labelFontWeight: 'bold'\n  };\n  var lines = vl.markLine({\n    strokeWidth: 1.5,\n    opacity: 0.5\n  }).encode(vl.color().fieldN('Species').sort('descending'), vl.detail().fieldN('index'), vl.x().fieldO('key').scale(scale).axis(axis), vl.y().fieldQ('fraction').axis(null));\n  var labels = vl.markText({\n    dx: -2,\n    align: 'right',\n    baseline: 'middle'\n  }).transform(vl.groupby('key').aggregate(vl.min('value').as('min'), vl.max('value').as('max')), vl.fold('min', 'max').as('op', 'value'), vl.groupby('key').window(vl.percent_rank('value').as('fraction'))).encode(vl.x().fieldN('key'), vl.y().fieldQ('fraction').axis(null), vl.text().field('value').format(','));\n  var plot = vl.layer(lines, labels).data('data/penguins.json').transform(vl.filter('datum[\"Beak Length (mm)\"] != null'), vl.window(vl.row_number().as('index')), vl.fold(domain).as('key', 'value'), vl.groupby('key').join(vl.min('value').as('min'), vl.max('value').as('max')), vl.calculate('(datum.value - datum.min) / (datum.max - datum.min)').as('fraction')).width(width).height(300).autosize({\n    type: 'fit-x',\n    contains: 'padding'\n  });\n  return plot.render({\n    renderer: 'svg'\n  });\n}\n\nfunction _standalone_use(md) {\n  return md(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"<hr/>\\n## Stand-Alone Usage in a Web Browser\\n\\nTo use the Vega-Lite API in the browser outside of Observable, you need to include all the dependencies, set the default configuration, and then register the Vega libraries. Here is some starting code to build from:\\n\\n~~~html\\n<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <script src=\\\"https://cdn.jsdelivr.net/npm/vega@5\\\"></script>\\n    <script src=\\\"https://cdn.jsdelivr.net/npm/vega-lite@4\\\"></script>\\n    <script src=\\\"https://cdn.jsdelivr.net/npm/vega-lite-api@4\\\"></script>\\n    <script src=\\\"https://cdn.jsdelivr.net/npm/vega-tooltip\\\"></script>\\n  </head>\\n  <body>\\n    <div id=\\\"view\\\"></div>\\n\\n    <script>\\n      // setup API options\\n      const options = {\\n        config: {\\n          // Vega-Lite default configuration\\n        },\\n        init: (view) => {\\n          // initialize tooltip handler\\n          view.tooltip(new vegaTooltip.Handler().call);\\n        },\\n        view: {\\n          // view constructor options\\n          // remove the loader if you don't want to default to vega-datasets!\\n          loader: vega.loader({\\n            baseURL: \\\"https://cdn.jsdelivr.net/npm/vega-datasets@2/\\\",\\n          }),\\n          renderer: \\\"canvas\\\",\\n        },\\n      };\\n\\n      // register vega and vega-lite with the API\\n      vl.register(vega, vegaLite, options);\\n\\n      // now you can use the API!\\n      vl.markBar({ tooltip: true })\\n        .data([\\n          { a: \\\"A\\\", b: 28 }, { a: \\\"B\\\", b: 55 }, { a: \\\"C\\\", b: 43 },\\n          { a: \\\"D\\\", b: 91 }, { a: \\\"E\\\", b: 81 }, { a: \\\"F\\\", b: 53 },\\n          { a: \\\"G\\\", b: 19 }, { a: \\\"H\\\", b: 87 }, { a: \\\"I\\\", b: 52 },\\n        ])\\n        .encode(\\n          vl.x().fieldQ(\\\"b\\\"),\\n          vl.y().fieldN(\\\"a\\\"),\\n          vl.tooltip([vl.fieldQ(\\\"b\\\"), vl.fieldN(\\\"a\\\")])\\n        )\\n        .render()\\n        .then(viewElement => {\\n          // render returns a promise to a DOM element containing the chart\\n          // viewElement.value contains the Vega View object instance\\n          document.getElementById('view').appendChild(viewElement);\\n        });\\n    </script>\\n  </body>\\n</html>\\n\\n~~~\"])));\n}\n\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer()).define([\"md\"], _1);\n  main.variable(observer()).define([\"md\"], _2);\n  main.variable(observer()).define([\"md\"], _3);\n  main.variable(observer(\"vl\")).define(\"vl\", [\"require\"], _vl);\n  main.variable(observer()).define([\"md\"], _5);\n  main.variable(observer(\"zip_codes\")).define(\"zip_codes\", [\"md\"], _zip_codes);\n  main.variable(observer()).define([\"vl\", \"width\"], _7);\n  main.variable(observer(\"interactive_weather\")).define(\"interactive_weather\", [\"md\"], _interactive_weather);\n  main.variable(observer()).define([\"vl\", \"width\"], _9);\n  main.variable(observer(\"parallel_coordinats\")).define(\"parallel_coordinats\", [\"md\"], _parallel_coordinats);\n  main.variable(observer()).define([\"vl\", \"width\"], _11);\n  main.variable(observer(\"standalone_use\")).define(\"standalone_use\", [\"md\"], _standalone_use);\n  return main;\n}","import _taggedTemplateLiteral from \"/home/runner/work/robinl.github.io/robinl.github.io/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7, _templateObject8, _templateObject9, _templateObject10, _templateObject11, _templateObject12, _templateObject13, _templateObject14, _templateObject15, _templateObject16, _templateObject17, _templateObject18, _templateObject19, _templateObject20, _templateObject21, _templateObject22, _templateObject23, _templateObject24, _templateObject25, _templateObject26, _templateObject27, _templateObject28, _templateObject29, _templateObject30, _templateObject31, _templateObject32, _templateObject33, _templateObject34, _templateObject35, _templateObject36, _templateObject37, _templateObject38, _templateObject39, _templateObject40, _templateObject41;\n\n// https://observablehq.com/@robinl/the-carbon-impact-of-switiching-to-an-electric-car@1053\nimport define1 from \"./7764a40fe6b83ca1@427.js\";\n\nfunction _title(md) {\n  return md(_templateObject || (_templateObject = _taggedTemplateLiteral([\"# How does switching to an electric car affect your carbon footprint?\"])));\n}\n\nfunction _para_1(md) {\n  return md(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"This post considers three questions:\\n\\n- What is the total carbon footprint of an full electric vehicle versus an ICE (petrol/diesel) equivalent? \\n\\n- If you own an ICE car, is it better immediately to replace it with an full electric car, or wait until it is beyond economic repair.\\n\\n- Since electric cars are more expensive, may it be better for the environment to buy an ICE vehicle and use the balance to buy carbon offsets?\\n\\nThe answers to these questions depend on how you use your car, and other factors such as the mix of energy generation used to power the electric vehicle.  Estimates for some important variables such as emissions from the production of vehicles are often imprecise, and vary considerably between sources. \\n\\nThis article provides default values which you may change.  Sources for these default values are provided in the appendix.\\n\"])));\n}\n\nfunction _title_assumptions(md) {\n  return md(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"## Assumptions\"])));\n}\n\nfunction _ice_mileage_md(md, inputs, html, $0, km_miles_unit_select, $1) {\n  return md(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"Total expected lifetime mileage of ICE vehicle:   \", \"  thousand  \", \"\\n\"])), inputs.bind(html(_templateObject5 || (_templateObject5 = _taggedTemplateLiteral([\"<input type=number style='width:3rem'>\"]))), $0), inputs.bind(html(_templateObject6 || (_templateObject6 = _taggedTemplateLiteral([\"\", \"\"])), km_miles_unit_select), $1));\n}\n\nfunction _elec_mileage_md(md, inputs, html, $0, km_miles_unit_select, $1) {\n  return md(_templateObject7 || (_templateObject7 = _taggedTemplateLiteral([\"Total expected lifetime mileage of electric vehicle:   \", \"  thousand  \", \"\\n\"])), inputs.bind(html(_templateObject8 || (_templateObject8 = _taggedTemplateLiteral([\"<input type=number style='width:3rem'>\"]))), $0), inputs.bind(html(_templateObject9 || (_templateObject9 = _taggedTemplateLiteral([\"\", \"\"])), km_miles_unit_select), $1));\n}\n\nfunction _total_emissions_ice_md(md, inputs, html, $0) {\n  return md(_templateObject10 || (_templateObject10 = _taggedTemplateLiteral([\"Total emissions in tonnes for ICE vehicle manufacture: \", \"  tonnes  (CO2 equivalent)\"])), inputs.bind(html(_templateObject11 || (_templateObject11 = _taggedTemplateLiteral([\"<input type=number style='width:2.5rem'>\"]))), $0));\n}\n\nfunction _total_emissions_elec_md(md, inputs, html, $0) {\n  return md(_templateObject12 || (_templateObject12 = _taggedTemplateLiteral([\"Total emissions in tonnes for electric vehicle manufacture: \", \"  tonnes  (CO2 equivalent)\"])), inputs.bind(html(_templateObject13 || (_templateObject13 = _taggedTemplateLiteral([\"<input type=number style='width:2.5rem'>\"]))), $0));\n}\n\nfunction _ice_vehicle_emissions_md(md, inputs, html, $0, ice_emissions_unit_select, $1) {\n  return md(_templateObject14 || (_templateObject14 = _taggedTemplateLiteral([\"ICE vehicle emissions:  \", \" \\n\", \"\"])), inputs.bind(html(_templateObject15 || (_templateObject15 = _taggedTemplateLiteral([\"<input type=number style='width:3rem'>\"]))), $0), inputs.bind(html(_templateObject16 || (_templateObject16 = _taggedTemplateLiteral([\"\", \"\"])), ice_emissions_unit_select), $1));\n}\n\nfunction _uplift_md(md, inputs, html, $0) {\n  return md(_templateObject17 || (_templateObject17 = _taggedTemplateLiteral([\"ICE uplift for fuel production cycle (energy required for extraction, production and transport of petrol/diesel): \", \" %\"])), inputs.bind(html(_templateObject18 || (_templateObject18 = _taggedTemplateLiteral([\"<input type=number style='width:2.5rem'>\"]))), $0));\n}\n\nfunction _elec_miles_kwh_md(md, inputs, html, $0, elec_emissions_unit_select, $1) {\n  return md(_templateObject19 || (_templateObject19 = _taggedTemplateLiteral([\"Electric vehicle energy usage:  \", \" \\n\", \"\"])), inputs.bind(html(_templateObject20 || (_templateObject20 = _taggedTemplateLiteral([\"<input type=number style='width:2.5rem'>\"]))), $0), inputs.bind(html(_templateObject21 || (_templateObject21 = _taggedTemplateLiteral([\"\", \"\"])), elec_emissions_unit_select), $1));\n}\n\nfunction _carbon_intensity_md(md, inputs, html, $0) {\n  return md(_templateObject22 || (_templateObject22 = _taggedTemplateLiteral([\"Carbon intensity of electricity production:  \", \" gCO2/kWh\"])), inputs.bind(html(_templateObject23 || (_templateObject23 = _taggedTemplateLiteral([\"<input type=number style='width:3rem'>\"]))), $0));\n}\n\nfunction _results_title(md) {\n  return md(_templateObject24 || (_templateObject24 = _taggedTemplateLiteral([\"## Results\\n\\n### Total carbon emissions\\n\"])));\n}\n\nfunction _results_para_1(md, total_ice_emissions, total_elec_emissions, additional_emissions_ice) {\n  return md(_templateObject25 || (_templateObject25 = _taggedTemplateLiteral([\"Total lifetime carbon emissions are \", \" tonnes CO2 for the ICE car, and   \", \" tonnes CO2 for the electric car.\\n\\nThis makes lifetime electric emissions \", \"% of ICE emissions.\\n\\nThe ICE vehicle will therefore have additional emissions of \", \" tonnes of CO2.\\n\"])), total_ice_emissions.toPrecision(3), total_elec_emissions.toPrecision(3), (100 * total_elec_emissions / total_ice_emissions).toPrecision(3), additional_emissions_ice.toPrecision(3));\n}\n\nfunction _results_chart(embed, vl, total_emissions_data) {\n  return embed(vl.data(total_emissions_data).transform(vl.groupby([\"Lifecycle Stage\", \"Vehicle Type\"]).aggregate(vl.sum('Tonnes CO2').as(\"Tonnes CO2\")), vl.stack(\"Tonnes CO2\").groupby(\"Vehicle Type\").sort({\n    field: 'Lifecycle Stage',\n    order: 'ascending'\n  }), vl.calculate(\"(datum['Tonnes CO2_start'] + datum['Tonnes CO2_end'])/2\").as(\"sum_Tonnes CO2_mid\")).layer(vl.markBar().encode(vl.x().fieldN(\"Vehicle Type\"), vl.y().fieldQ(\"Tonnes CO2_start\").axis({\n    title: 'Tonnes CO2'\n  }), vl.y2().fieldQ(\"Tonnes CO2_end\"), vl.color().fieldN(\"Lifecycle Stage\")), vl.markText({\n    dy: -0\n  }).encode(vl.x().fieldN(\"Vehicle Type\"), vl.y().fieldQ(\"sum_Tonnes CO2_mid\"), vl.text().fieldN('Tonnes CO2').format(',.1f'))).width(200).toSpec());\n}\n\nfunction _results_table(md, marginal_ice_emissions_gCO2km, marginal_elec_emissions_gCO2km, average_ice_emissions_gCO2km, average_elec_emissions_gCO2km) {\n  return md(_templateObject26 || (_templateObject26 = _taggedTemplateLiteral([\"\\n|                       | ICE | Electric |\\n|-----------------------|-----|----------|\\n| Marginal emissions/km |   \", \" gCO2/km  |     \", \" gCO2/km       |\\n| Average emissions/km  |     \", \" gCO2/km  |     \", \" gCO2/km       |\\n\"])), marginal_ice_emissions_gCO2km.toFixed(1), marginal_elec_emissions_gCO2km.toFixed(1), average_ice_emissions_gCO2km.toFixed(1), average_elec_emissions_gCO2km.toFixed(1));\n}\n\nfunction _results_carbon_offset(md, additional_emissions_ice) {\n  return md(_templateObject27 || (_templateObject27 = _taggedTemplateLiteral([\"\\n\\n\\n#### Carbon offsetting the difference \\n\\nCarbon offsetting costs vary wildly, between about [\\xA36 and \\xA3300 per tonne](https://www.robinlinacre.com/offsetting_renewables/) - see also [here](https://www.gov.uk/flood-and-coastal-erosion-risk-management-research-reports/achieving-net-zero-carbon-emissions-a-review-of-the-evidence-behind-carbon-offsetting).  The Greater London Authority uses a [carbon offset price of \\xA360/tonne CO2](https://www.london.gov.uk/sites/default/files/carbon_offsett_funds_guidance_2018.pdf).  \\n\\nUsing the \\xA360 figure, the cost of offsetting the additional lifetime emissions from the ICE would be \\xA3\", \".\"])), (additional_emissions_ice * 60).toFixed(2));\n}\n\nfunction _replace_para_1(md, marginal_ice_emissions_gCO2km, average_elec_emissions_gCO2km) {\n  return md(_templateObject28 || (_templateObject28 = _taggedTemplateLiteral([\"### Replacing an ICE with an electric vehicle\\nIf you own an existing ICE, is it better immediately to replace it with an electric vehicle or wait until it reaches the end of its life?\\n\\nThe production emissions of the ICE car are a sunk cost.  This makes the relevant comparison the [marginal](https://www.investopedia.com/terms/m/marginal-analysis.asp#:~:text=that%20same%20activity.-,Marginal%20refers%20to%20the%20focus%20on%20the%20cost%20or%20benefit,them%20maximize%20their%20potential%20profits.) emissions of the ICE car (\", \" gCO2/km)  vs. the average emissions of the electric car (\", \" gCO2/km).  \\n\\nIf the former are higher than the later, then further use of the ICE results in higher overall emissions.\\n\"])), marginal_ice_emissions_gCO2km.toFixed(1), average_elec_emissions_gCO2km.toFixed(1));\n}\n\nfunction _replace_para_2(md, inputs, html, $0, km_miles_unit_select, $1) {\n  return md(_templateObject29 || (_templateObject29 = _taggedTemplateLiteral([\"Although switching immediately to an electric car usually reduces your overall emissions, it's important to recognise that the savings are relatively modest.\\n\\nSuppose that instead of immediately switching, suppose you keep your ICE for a further  \", \"  thousand  \", \".\\n\\n\"])), inputs.bind(html(_templateObject30 || (_templateObject30 = _taggedTemplateLiteral([\"<input type=number style='width:2.5rem'>\"]))), $0), inputs.bind(html(_templateObject31 || (_templateObject31 = _taggedTemplateLiteral([\"\", \"\"])), km_miles_unit_select), $1));\n}\n\nfunction _replace_para_3(md, ice_emissions_for_marginal_useage) {\n  return md(_templateObject32 || (_templateObject32 = _taggedTemplateLiteral([\"The total carbon saving of immediately switching would be \", \" tonnes CO2.\\n\\nUsing the \\xA360 per tonne of CO2 offsetting figure mentioned earlier, the cost would be \\xA3\", \".\"])), ice_emissions_for_marginal_useage.toPrecision(3), (ice_emissions_for_marginal_useage * 60).toLocaleString('US-en', {\n    maximumFractionDigits: 0\n  }));\n}\n\nfunction _breakeven_electric(md, break_even_distance) {\n  return md(_templateObject33 || (_templateObject33 = _taggedTemplateLiteral([\"## 'Break even' point for electric cars \\n\\nGiven that electric cars have greater carbon emissions from their production, how many miles must be driven before their total emissions fall below those of ICE vehicles?\\n\\nAs shown in the following chart, the breakeven distance is \", \" km.\\n\"])), break_even_distance.toLocaleString('en-US', {\n    maximumFractionDigits: 0\n  }));\n}\n\nfunction _breakeven_electric_chart(vl, break_even_data, width, embed, markrule_be, text_be) {\n  var lines = vl.markLine().data(break_even_data).encode(vl.x().fieldQ('Distance (km)').axis({\n    title: 'Distance (km)'\n  }), vl.y().fieldQ('Tonnes CO2').axis({\n    title: 'Tonnes CO2'\n  }), vl.color().fieldN('Vehicle Type')).title('Break even distance').width(width - 200);\n  return embed(vl.layer(lines, markrule_be, text_be).toSpec());\n}\n\nfunction _further_considerations(md) {\n  return md(_templateObject34 || (_templateObject34 = _taggedTemplateLiteral([\"## Further considerations\\n\\n#### Substitution effects\\n\\nSelling an ICE vehicle increases the supply of second hand ICE cars, depressing their price. If vehicles get cheaper, it's plausible more miles may be driven in total.\\n\\n#### Positive externalities\\n\\nPurchasing electric vehicles is likely to result in the technology maturing more rapidly, decreasing the energy cost of production and increasing the relative desirability.  \\n\\nBy increasing demand for electricity and reducing demand for petrol/diesel, it may also accelerate the transition to cleaner electricity.\\n\\n#### Marginal vs average electric carbon intensity\\n\\nThe mix of electricity generation in many countries includes a substantial percentage of renewables.  In the short run, marginal electricity usage presumably comes from non-renewable energy sources, since short-term increases in demand are usually made up by non-renewable sources like natural gas.\\n\\nArguably, the assumption you use for the carbon intensity of electricity production should be based on marginal rather than average production.  In the UK, this would likely be gas-fired power stations, which is around [500gCO2/KWh](https://www.parliament.uk/globalassets/documents/post/postpn_383-carbon-footprint-electricity-generation.pdf).\\n\\n\\n\"])));\n}\n\nfunction _annex(md) {\n  return md(_templateObject35 || (_templateObject35 = _taggedTemplateLiteral([\"## Annex - Source for assumptions:\\n\\n**Carbon intensity of electricity production**:\\n-  [DEFRA conversion factors](https://gist.github.com/RobinL/2d253d1b5a4a27e563fd1ce811c1bb86#file-defra_conversion_factors_2019-csv-L1928). For other countries [see page 74](https://ec.europa.eu/clima/sites/default/files/transport/vehicles/docs/2020_study_main_report_en.pdf).  For comparison of different sources of electricity, see [here](https://www.parliament.uk/globalassets/documents/post/postpn_383-carbon-footprint-electricity-generation.pdf).\\n\\n\\n**Emissions from production of electric vs ICE vehicles**\\n\\n- [Figure A11 Page 189 and Figure 12 page 191](https://ec.europa.eu/clima/sites/default/files/transport/vehicles/docs/2020_study_main_report_en.pdf) for carbon emissions from production of ICE/electric \\n- Or alternatively you can derive a figure of around 9 tonnes for ICE and 14 tonnes for electric from [figure ES5 on page 9](https://ec.europa.eu/clima/sites/default/files/transport/vehicles/docs/2020_study_main_report_en.pdf).\\n\\n**Uplift in ICE emissions from production fuel cycle**\\n- Derived from [figure ES5 on page 9](https://ec.europa.eu/clima/sites/default/files/transport/vehicles/docs/2020_study_main_report_en.pdf).\\n\"])));\n}\n\nfunction _24(md) {\n  return md(_templateObject36 || (_templateObject36 = _taggedTemplateLiteral([\"### Breakeven calcs\"])));\n}\n\nfunction _break_even_distance(elec_production_emissions_tonnes, ice_production_emissions_tonnes, marginal_ice_emissions_gCO2km, marginal_elec_emissions_gCO2km) {\n  // y = a + m1 x\n  // y = b + m2 x\n  //x = (a-b)/(m1-m2)\n  var a_b = 1e6 * (elec_production_emissions_tonnes - ice_production_emissions_tonnes);\n  var m1_m2 = marginal_ice_emissions_gCO2km - marginal_elec_emissions_gCO2km;\n  return a_b / m1_m2;\n}\n\nfunction _break_even_data(ice_production_emissions_tonnes, total_ice_km, ice_emissions_from_use, elec_production_emissions_tonnes, elec_emissions_from_use) {\n  var rows = [];\n  var p;\n  p = {\n    id: 0,\n    \"Distance (km)\": 0,\n    \"Tonnes CO2\": 0,\n    \"Vehicle Type\": \"ICE\"\n  };\n  rows.push(p);\n  p = {\n    id: 1,\n    \"Distance (km)\": 0,\n    \"Tonnes CO2\": ice_production_emissions_tonnes,\n    \"Vehicle Type\": \"ICE\"\n  };\n  rows.push(p);\n  p = {\n    id: 2,\n    \"Distance (km)\": total_ice_km,\n    \"Tonnes CO2\": ice_production_emissions_tonnes + ice_emissions_from_use,\n    \"Vehicle Type\": \"ICE\"\n  };\n  rows.push(p);\n  p = {\n    id: 0,\n    \"Distance (km)\": 0,\n    \"Tonnes CO2\": 0,\n    \"Vehicle Type\": \"Electric\"\n  };\n  rows.push(p);\n  p = {\n    id: 1,\n    \"Distance (km)\": 0,\n    \"Tonnes CO2\": elec_production_emissions_tonnes,\n    \"Vehicle Type\": \"Electric\"\n  };\n  rows.push(p);\n  p = {\n    id: 2,\n    \"Distance (km)\": total_ice_km,\n    \"Tonnes CO2\": elec_production_emissions_tonnes + elec_emissions_from_use,\n    \"Vehicle Type\": \"Electric\"\n  };\n  rows.push(p);\n  return rows;\n}\n\nfunction _text_be(vl, break_even_distance, total_ice_emissions) {\n  return vl.markText({\n    angle: -90,\n    xOffset: -10,\n    yOffset: -20\n  }).data({\n    values: [{\n      be_text: break_even_distance,\n      y_pos: total_ice_emissions / 2,\n      mytext: break_even_distance.toLocaleString('en-US', {\n        maximumFractionDigits: 0\n      }) + \" km\"\n    }]\n  }).encode(vl.x().fieldQ('be_text')).encode(vl.y().fieldQ('y_pos')).encode(vl.text().fieldN('mytext'));\n}\n\nfunction _markrule_be(vl, break_even_distance) {\n  return vl.markRule({\n    color: 'red',\n    size: 1,\n    strokeDash: ['4', '4']\n  }).data({\n    values: [{\n      rule: break_even_distance\n    }]\n  }).encode(vl.x().fieldQ('rule'));\n}\n\nfunction _29(md) {\n  return md(_templateObject37 || (_templateObject37 = _taggedTemplateLiteral([\"## Chart data\"])));\n}\n\nfunction _total_emissions_data(elec_production_emissions_tonnes, elec_emissions_from_use, ice_emissions_from_use, ice_production_emissions_tonnes) {\n  var rows = [];\n  var r = {\n    'Lifecycle Stage': 'Production',\n    'Vehicle Type': 'Electric',\n    'Tonnes CO2': elec_production_emissions_tonnes\n  };\n  rows.push(r);\n  r = {\n    'Lifecycle Stage': 'Use',\n    'Vehicle Type': 'Electric',\n    'Tonnes CO2': elec_emissions_from_use\n  };\n  rows.push(r);\n  r = {\n    'Lifecycle Stage': 'Use',\n    'Vehicle Type': 'ICE',\n    'Tonnes CO2': ice_emissions_from_use\n  };\n  rows.push(r);\n  r = {\n    'Lifecycle Stage': 'Production',\n    'Vehicle Type': 'ICE',\n    'Tonnes CO2': ice_production_emissions_tonnes\n  };\n  rows.push(r);\n  return rows;\n}\n\nfunction _31(md) {\n  return md(_templateObject38 || (_templateObject38 = _taggedTemplateLiteral([\"## Chart specs\"])));\n}\n\nfunction _chart(vl, total_emissions_data) {\n  return vl.data(total_emissions_data).layer(vl.markBar().encode(vl.x().fieldN(\"Vehicle Type\"), vl.y().fieldQ(\"Tonnes CO2\"))).width(100).toSpec();\n}\n\nfunction _33(md) {\n  return md(_templateObject39 || (_templateObject39 = _taggedTemplateLiteral([\"## Conversions\"])));\n}\n\nfunction _total_ice_km(per, ice_lifetime_distance_units, ice_lifetime_distance) {\n  return per(\"kilometers/\".concat(ice_lifetime_distance_units)) * ice_lifetime_distance * 1000;\n}\n\nfunction _total_elec_km(per, elec_lifetime_distance_units, elec_lifetime_distance) {\n  return per(\"kilometers/\".concat(elec_lifetime_distance_units)) * elec_lifetime_distance * 1000;\n}\n\nfunction _marginal_ice_emissions_gCO2km(ice_emissions_unit, per, ice_emissions, ice_emissions_uplift_percent) {\n  var direct_vehicle_emissions_gCO2km;\n\n  if (ice_emissions_unit == \"mpg\") {\n    var kg_per_gallon = per(\"kg_co2_from_petrol/imperial_gallons_petrol\");\n    var kg_per_mile = kg_per_gallon / ice_emissions;\n    var kg_per_km = kg_per_mile * per(\"miles/kilometers\");\n    direct_vehicle_emissions_gCO2km = kg_per_km * 1000;\n  }\n\n  if (ice_emissions_unit == \"gCO2km\") {\n    direct_vehicle_emissions_gCO2km = ice_emissions;\n  }\n\n  return direct_vehicle_emissions_gCO2km * (1 + ice_emissions_uplift_percent / 100);\n}\n\nfunction _marginal_elec_emissions_gCO2km(elec_emissions_unit, per, elec_emissions, elec_carbon_intensity) {\n  var distance_units;\n\n  if (elec_emissions_unit == \"miles_per_kWh\") {\n    distance_units = \"miles\";\n  }\n\n  if (elec_emissions_unit == \"km_per_kWh\") {\n    distance_units = \"kilometers\";\n  }\n\n  var conversion_factor = per(\"kilometers/\".concat(distance_units));\n  var kwh_per_km = elec_emissions * conversion_factor;\n  var elec_emissions_gCO2km = elec_carbon_intensity / kwh_per_km;\n  return elec_emissions_gCO2km;\n}\n\nfunction _ice_emissions_from_use(marginal_ice_emissions_gCO2km, total_ice_km) {\n  return marginal_ice_emissions_gCO2km * total_ice_km / 1e6;\n}\n\nfunction _elec_emissions_from_use(marginal_elec_emissions_gCO2km, total_elec_km) {\n  return marginal_elec_emissions_gCO2km * total_elec_km / 1e6;\n}\n\nfunction _total_ice_emissions(ice_emissions_from_use, ice_production_emissions_tonnes) {\n  return ice_emissions_from_use + ice_production_emissions_tonnes;\n}\n\nfunction _total_elec_emissions(elec_emissions_from_use, elec_production_emissions_tonnes) {\n  return elec_emissions_from_use + elec_production_emissions_tonnes;\n}\n\nfunction _average_elec_emissions_gCO2km(total_elec_emissions, total_elec_km) {\n  return total_elec_emissions / total_elec_km * 1e6;\n}\n\nfunction _average_ice_emissions_gCO2km(total_ice_emissions, total_ice_km) {\n  return total_ice_emissions / total_ice_km * 1e6;\n}\n\nfunction _ice_distance_remaining_km(per, ice_distance_remaining_units, ice_distance_remaining) {\n  return per(\"kilometers/\".concat(ice_distance_remaining_units)) * ice_distance_remaining * 1000;\n}\n\nfunction _ice_remaining_emissions(ice_distance_remaining_km, marginal_ice_emissions_gCO2km) {\n  return ice_distance_remaining_km * marginal_ice_emissions_gCO2km / 1e6;\n}\n\nfunction _elec_remaining_emissions_equivalent(ice_distance_remaining_km, average_elec_emissions_gCO2km) {\n  return ice_distance_remaining_km * average_elec_emissions_gCO2km / 1e6;\n}\n\nfunction _ice_emissions_for_marginal_useage(ice_remaining_emissions, elec_remaining_emissions_equivalent) {\n  return ice_remaining_emissions - elec_remaining_emissions_equivalent;\n}\n\nfunction _additional_emissions_ice(total_ice_emissions, total_elec_emissions) {\n  return total_ice_emissions - total_elec_emissions;\n}\n\nfunction _49(md) {\n  return md(_templateObject40 || (_templateObject40 = _taggedTemplateLiteral([\"## Inputs/views\"])));\n}\n\nfunction _ice_lifetime_distance(inputs) {\n  return new inputs.input(100);\n}\n\nfunction _elec_lifetime_distance(inputs) {\n  return new inputs.input(100);\n}\n\nfunction _ice_lifetime_distance_units(inputs) {\n  return new inputs.input(\"miles\");\n}\n\nfunction _elec_lifetime_distance_units(inputs) {\n  return new inputs.input(\"miles\");\n}\n\nfunction _ice_production_emissions_tonnes(inputs) {\n  return new inputs.input(9);\n}\n\nfunction _elec_production_emissions_tonnes(inputs) {\n  return new inputs.input(14);\n}\n\nfunction _elec_emissions_units(inputs) {\n  return new inputs.input(\"gCO2km\");\n}\n\nfunction _ice_emissions(inputs) {\n  return new inputs.input(\"40\");\n}\n\nfunction _ice_emissions_unit(inputs) {\n  return new inputs.input(\"mpg\");\n}\n\nfunction _ice_emissions_uplift_percent(inputs) {\n  return new inputs.input(\"50\");\n}\n\nfunction _elec_emissions(inputs) {\n  return new inputs.input(\"4\");\n}\n\nfunction _elec_emissions_unit(inputs) {\n  return new inputs.input(\"miles_per_kWh\");\n}\n\nfunction _elec_carbon_intensity(inputs) {\n  return new inputs.input(\"250\");\n}\n\nfunction _ice_distance_remaining(inputs) {\n  return new inputs.input(\"30\");\n}\n\nfunction _ice_distance_remaining_units(inputs) {\n  return new inputs.input(\"miles\");\n}\n\nfunction _km_miles_unit_select() {\n  return \"<select>\\n    <option value=\\\"kilometers\\\">kilometers</option>\\n    <option value=\\\"miles\\\">miles</option>\\n  </select>\";\n}\n\nfunction _elec_emissions_unit_select() {\n  return \"<select>\\n<option value=\\\"miles_per_kWh\\\">miles/kWh</option>\\n    <option value=\\\"km_per_kWh\\\">km/kWh</option>\\n  </select>\";\n}\n\nfunction _ice_emissions_unit_select() {\n  return \"<select>\\n    <option value=\\\"mpg\\\">miles per gallon</option>\\n    <option value=\\\"gCO2km\\\">gCO2/km</option>\\n    \\n  </select>\";\n}\n\nfunction _68(md) {\n  return md(_templateObject41 || (_templateObject41 = _taggedTemplateLiteral([\"## Imports\"])));\n}\n\nfunction _inputs(require) {\n  return require(\"@observablehq/inputs\");\n}\n\nfunction _eu(require) {\n  return require(\"@robinl/energy_usage@0.1.6\");\n}\n\nfunction _per(eu) {\n  return eu.convert.per;\n}\n\nfunction _embed(require) {\n  return require(\"vega-embed@6\");\n}\n\nexport default function define(runtime, observer) {\n  var main = runtime.module();\n  main.variable(observer(\"title\")).define(\"title\", [\"md\"], _title);\n  main.variable(observer(\"para_1\")).define(\"para_1\", [\"md\"], _para_1);\n  main.variable(observer(\"title_assumptions\")).define(\"title_assumptions\", [\"md\"], _title_assumptions);\n  main.variable(observer(\"ice_mileage_md\")).define(\"ice_mileage_md\", [\"md\", \"inputs\", \"html\", \"viewof ice_lifetime_distance\", \"km_miles_unit_select\", \"viewof ice_lifetime_distance_units\"], _ice_mileage_md);\n  main.variable(observer(\"elec_mileage_md\")).define(\"elec_mileage_md\", [\"md\", \"inputs\", \"html\", \"viewof elec_lifetime_distance\", \"km_miles_unit_select\", \"viewof elec_lifetime_distance_units\"], _elec_mileage_md);\n  main.variable(observer(\"total_emissions_ice_md\")).define(\"total_emissions_ice_md\", [\"md\", \"inputs\", \"html\", \"viewof ice_production_emissions_tonnes\"], _total_emissions_ice_md);\n  main.variable(observer(\"total_emissions_elec_md\")).define(\"total_emissions_elec_md\", [\"md\", \"inputs\", \"html\", \"viewof elec_production_emissions_tonnes\"], _total_emissions_elec_md);\n  main.variable(observer(\"ice_vehicle_emissions_md\")).define(\"ice_vehicle_emissions_md\", [\"md\", \"inputs\", \"html\", \"viewof ice_emissions\", \"ice_emissions_unit_select\", \"viewof ice_emissions_unit\"], _ice_vehicle_emissions_md);\n  main.variable(observer(\"uplift_md\")).define(\"uplift_md\", [\"md\", \"inputs\", \"html\", \"viewof ice_emissions_uplift_percent\"], _uplift_md);\n  main.variable(observer(\"elec_miles_kwh_md\")).define(\"elec_miles_kwh_md\", [\"md\", \"inputs\", \"html\", \"viewof elec_emissions\", \"elec_emissions_unit_select\", \"viewof elec_emissions_unit\"], _elec_miles_kwh_md);\n  main.variable(observer(\"carbon_intensity_md\")).define(\"carbon_intensity_md\", [\"md\", \"inputs\", \"html\", \"viewof elec_carbon_intensity\"], _carbon_intensity_md);\n  main.variable(observer(\"results_title\")).define(\"results_title\", [\"md\"], _results_title);\n  main.variable(observer(\"results_para_1\")).define(\"results_para_1\", [\"md\", \"total_ice_emissions\", \"total_elec_emissions\", \"additional_emissions_ice\"], _results_para_1);\n  main.variable(observer(\"results_chart\")).define(\"results_chart\", [\"embed\", \"vl\", \"total_emissions_data\"], _results_chart);\n  main.variable(observer(\"results_table\")).define(\"results_table\", [\"md\", \"marginal_ice_emissions_gCO2km\", \"marginal_elec_emissions_gCO2km\", \"average_ice_emissions_gCO2km\", \"average_elec_emissions_gCO2km\"], _results_table);\n  main.variable(observer(\"results_carbon_offset\")).define(\"results_carbon_offset\", [\"md\", \"additional_emissions_ice\"], _results_carbon_offset);\n  main.variable(observer(\"replace_para_1\")).define(\"replace_para_1\", [\"md\", \"marginal_ice_emissions_gCO2km\", \"average_elec_emissions_gCO2km\"], _replace_para_1);\n  main.variable(observer(\"replace_para_2\")).define(\"replace_para_2\", [\"md\", \"inputs\", \"html\", \"viewof ice_distance_remaining\", \"km_miles_unit_select\", \"viewof ice_distance_remaining_units\"], _replace_para_2);\n  main.variable(observer(\"replace_para_3\")).define(\"replace_para_3\", [\"md\", \"ice_emissions_for_marginal_useage\"], _replace_para_3);\n  main.variable(observer(\"breakeven_electric\")).define(\"breakeven_electric\", [\"md\", \"break_even_distance\"], _breakeven_electric);\n  main.variable(observer(\"breakeven_electric_chart\")).define(\"breakeven_electric_chart\", [\"vl\", \"break_even_data\", \"width\", \"embed\", \"markrule_be\", \"text_be\"], _breakeven_electric_chart);\n  main.variable(observer(\"further_considerations\")).define(\"further_considerations\", [\"md\"], _further_considerations);\n  main.variable(observer(\"annex\")).define(\"annex\", [\"md\"], _annex);\n  main.variable(observer()).define([\"md\"], _24);\n  main.variable(observer(\"break_even_distance\")).define(\"break_even_distance\", [\"elec_production_emissions_tonnes\", \"ice_production_emissions_tonnes\", \"marginal_ice_emissions_gCO2km\", \"marginal_elec_emissions_gCO2km\"], _break_even_distance);\n  main.variable(observer(\"break_even_data\")).define(\"break_even_data\", [\"ice_production_emissions_tonnes\", \"total_ice_km\", \"ice_emissions_from_use\", \"elec_production_emissions_tonnes\", \"elec_emissions_from_use\"], _break_even_data);\n  main.variable(observer(\"text_be\")).define(\"text_be\", [\"vl\", \"break_even_distance\", \"total_ice_emissions\"], _text_be);\n  main.variable(observer(\"markrule_be\")).define(\"markrule_be\", [\"vl\", \"break_even_distance\"], _markrule_be);\n  main.variable(observer()).define([\"md\"], _29);\n  main.variable(observer(\"total_emissions_data\")).define(\"total_emissions_data\", [\"elec_production_emissions_tonnes\", \"elec_emissions_from_use\", \"ice_emissions_from_use\", \"ice_production_emissions_tonnes\"], _total_emissions_data);\n  main.variable(observer()).define([\"md\"], _31);\n  main.variable(observer(\"chart\")).define(\"chart\", [\"vl\", \"total_emissions_data\"], _chart);\n  main.variable(observer()).define([\"md\"], _33);\n  main.variable(observer(\"total_ice_km\")).define(\"total_ice_km\", [\"per\", \"ice_lifetime_distance_units\", \"ice_lifetime_distance\"], _total_ice_km);\n  main.variable(observer(\"total_elec_km\")).define(\"total_elec_km\", [\"per\", \"elec_lifetime_distance_units\", \"elec_lifetime_distance\"], _total_elec_km);\n  main.variable(observer(\"marginal_ice_emissions_gCO2km\")).define(\"marginal_ice_emissions_gCO2km\", [\"ice_emissions_unit\", \"per\", \"ice_emissions\", \"ice_emissions_uplift_percent\"], _marginal_ice_emissions_gCO2km);\n  main.variable(observer(\"marginal_elec_emissions_gCO2km\")).define(\"marginal_elec_emissions_gCO2km\", [\"elec_emissions_unit\", \"per\", \"elec_emissions\", \"elec_carbon_intensity\"], _marginal_elec_emissions_gCO2km);\n  main.variable(observer(\"ice_emissions_from_use\")).define(\"ice_emissions_from_use\", [\"marginal_ice_emissions_gCO2km\", \"total_ice_km\"], _ice_emissions_from_use);\n  main.variable(observer(\"elec_emissions_from_use\")).define(\"elec_emissions_from_use\", [\"marginal_elec_emissions_gCO2km\", \"total_elec_km\"], _elec_emissions_from_use);\n  main.variable(observer(\"total_ice_emissions\")).define(\"total_ice_emissions\", [\"ice_emissions_from_use\", \"ice_production_emissions_tonnes\"], _total_ice_emissions);\n  main.variable(observer(\"total_elec_emissions\")).define(\"total_elec_emissions\", [\"elec_emissions_from_use\", \"elec_production_emissions_tonnes\"], _total_elec_emissions);\n  main.variable(observer(\"average_elec_emissions_gCO2km\")).define(\"average_elec_emissions_gCO2km\", [\"total_elec_emissions\", \"total_elec_km\"], _average_elec_emissions_gCO2km);\n  main.variable(observer(\"average_ice_emissions_gCO2km\")).define(\"average_ice_emissions_gCO2km\", [\"total_ice_emissions\", \"total_ice_km\"], _average_ice_emissions_gCO2km);\n  main.variable(observer(\"ice_distance_remaining_km\")).define(\"ice_distance_remaining_km\", [\"per\", \"ice_distance_remaining_units\", \"ice_distance_remaining\"], _ice_distance_remaining_km);\n  main.variable(observer(\"ice_remaining_emissions\")).define(\"ice_remaining_emissions\", [\"ice_distance_remaining_km\", \"marginal_ice_emissions_gCO2km\"], _ice_remaining_emissions);\n  main.variable(observer(\"elec_remaining_emissions_equivalent\")).define(\"elec_remaining_emissions_equivalent\", [\"ice_distance_remaining_km\", \"average_elec_emissions_gCO2km\"], _elec_remaining_emissions_equivalent);\n  main.variable(observer(\"ice_emissions_for_marginal_useage\")).define(\"ice_emissions_for_marginal_useage\", [\"ice_remaining_emissions\", \"elec_remaining_emissions_equivalent\"], _ice_emissions_for_marginal_useage);\n  main.variable(observer(\"additional_emissions_ice\")).define(\"additional_emissions_ice\", [\"total_ice_emissions\", \"total_elec_emissions\"], _additional_emissions_ice);\n  main.variable(observer()).define([\"md\"], _49);\n  main.variable(observer(\"viewof ice_lifetime_distance\")).define(\"viewof ice_lifetime_distance\", [\"inputs\"], _ice_lifetime_distance);\n  main.variable(observer(\"ice_lifetime_distance\")).define(\"ice_lifetime_distance\", [\"Generators\", \"viewof ice_lifetime_distance\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof elec_lifetime_distance\")).define(\"viewof elec_lifetime_distance\", [\"inputs\"], _elec_lifetime_distance);\n  main.variable(observer(\"elec_lifetime_distance\")).define(\"elec_lifetime_distance\", [\"Generators\", \"viewof elec_lifetime_distance\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof ice_lifetime_distance_units\")).define(\"viewof ice_lifetime_distance_units\", [\"inputs\"], _ice_lifetime_distance_units);\n  main.variable(observer(\"ice_lifetime_distance_units\")).define(\"ice_lifetime_distance_units\", [\"Generators\", \"viewof ice_lifetime_distance_units\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof elec_lifetime_distance_units\")).define(\"viewof elec_lifetime_distance_units\", [\"inputs\"], _elec_lifetime_distance_units);\n  main.variable(observer(\"elec_lifetime_distance_units\")).define(\"elec_lifetime_distance_units\", [\"Generators\", \"viewof elec_lifetime_distance_units\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof ice_production_emissions_tonnes\")).define(\"viewof ice_production_emissions_tonnes\", [\"inputs\"], _ice_production_emissions_tonnes);\n  main.variable(observer(\"ice_production_emissions_tonnes\")).define(\"ice_production_emissions_tonnes\", [\"Generators\", \"viewof ice_production_emissions_tonnes\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof elec_production_emissions_tonnes\")).define(\"viewof elec_production_emissions_tonnes\", [\"inputs\"], _elec_production_emissions_tonnes);\n  main.variable(observer(\"elec_production_emissions_tonnes\")).define(\"elec_production_emissions_tonnes\", [\"Generators\", \"viewof elec_production_emissions_tonnes\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof elec_emissions_units\")).define(\"viewof elec_emissions_units\", [\"inputs\"], _elec_emissions_units);\n  main.variable(observer(\"elec_emissions_units\")).define(\"elec_emissions_units\", [\"Generators\", \"viewof elec_emissions_units\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof ice_emissions\")).define(\"viewof ice_emissions\", [\"inputs\"], _ice_emissions);\n  main.variable(observer(\"ice_emissions\")).define(\"ice_emissions\", [\"Generators\", \"viewof ice_emissions\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof ice_emissions_unit\")).define(\"viewof ice_emissions_unit\", [\"inputs\"], _ice_emissions_unit);\n  main.variable(observer(\"ice_emissions_unit\")).define(\"ice_emissions_unit\", [\"Generators\", \"viewof ice_emissions_unit\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof ice_emissions_uplift_percent\")).define(\"viewof ice_emissions_uplift_percent\", [\"inputs\"], _ice_emissions_uplift_percent);\n  main.variable(observer(\"ice_emissions_uplift_percent\")).define(\"ice_emissions_uplift_percent\", [\"Generators\", \"viewof ice_emissions_uplift_percent\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof elec_emissions\")).define(\"viewof elec_emissions\", [\"inputs\"], _elec_emissions);\n  main.variable(observer(\"elec_emissions\")).define(\"elec_emissions\", [\"Generators\", \"viewof elec_emissions\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof elec_emissions_unit\")).define(\"viewof elec_emissions_unit\", [\"inputs\"], _elec_emissions_unit);\n  main.variable(observer(\"elec_emissions_unit\")).define(\"elec_emissions_unit\", [\"Generators\", \"viewof elec_emissions_unit\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof elec_carbon_intensity\")).define(\"viewof elec_carbon_intensity\", [\"inputs\"], _elec_carbon_intensity);\n  main.variable(observer(\"elec_carbon_intensity\")).define(\"elec_carbon_intensity\", [\"Generators\", \"viewof elec_carbon_intensity\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof ice_distance_remaining\")).define(\"viewof ice_distance_remaining\", [\"inputs\"], _ice_distance_remaining);\n  main.variable(observer(\"ice_distance_remaining\")).define(\"ice_distance_remaining\", [\"Generators\", \"viewof ice_distance_remaining\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"viewof ice_distance_remaining_units\")).define(\"viewof ice_distance_remaining_units\", [\"inputs\"], _ice_distance_remaining_units);\n  main.variable(observer(\"ice_distance_remaining_units\")).define(\"ice_distance_remaining_units\", [\"Generators\", \"viewof ice_distance_remaining_units\"], function (G, _) {\n    return G.input(_);\n  });\n  main.variable(observer(\"km_miles_unit_select\")).define(\"km_miles_unit_select\", _km_miles_unit_select);\n  main.variable(observer(\"elec_emissions_unit_select\")).define(\"elec_emissions_unit_select\", _elec_emissions_unit_select);\n  main.variable(observer(\"ice_emissions_unit_select\")).define(\"ice_emissions_unit_select\", _ice_emissions_unit_select);\n  main.variable(observer()).define([\"md\"], _68);\n  main.variable(observer(\"inputs\")).define(\"inputs\", [\"require\"], _inputs);\n  main.variable(observer(\"eu\")).define(\"eu\", [\"require\"], _eu);\n  main.variable(observer(\"per\")).define(\"per\", [\"eu\"], _per);\n  var child1 = runtime.module(define1);\n  main.import(\"vl\", child1);\n  main.variable(observer(\"embed\")).define(\"embed\", [\"require\"], _embed);\n  return main;\n}","import React from 'react'\nimport define from \"@robinl/the-carbon-impact-of-switiching-to-an-electric-car\"\nimport ObsMdxPage from \"../components/mdx_obs_page\"\n\nexport const frontmatter = {\n    title: \"The carbon impact of switiching to an electric car\",\n    post_date: \"2021-09-03\",\n    code_url: \"https://observablehq.com/@robinl/the-carbon-impact-of-switiching-to-an-electric-car\",\n    post_type: \"obs\",\n    post_category: \"energy\",\n    description: \"What is the comparative carbon footprint of electric cars?  As an existing petrol ICE car owner, should you switch to an electric car\"\n}\n\nlet output_order = [\n    \"title\",\n    \"para_1\",\n    \"title_assumptions\",\n    \"ice_mileage_md\",\n    \"elec_mileage_md\",\n    \"total_emissions_ice_md\",\n    \"total_emissions_elec_md\",\n    \"ice_vehicle_emissions_md\",\n    \"uplift_md\",\n    \"elec_miles_kwh_md\",\n    \"carbon_intensity_md\",\n    \"results_title\",\n    \"results_para_1\",\n    \"results_chart\",\n    \"results_table\",\n    \"results_carbon_offset\",\n    \"replace_para_1\",\n    \"replace_para_2\",\n    \"replace_para_3\",\n    \"breakeven_electric\",\n    \"breakeven_electric_chart\",\n    \"further_considerations\",\n    \"annex\"\n]\n\nexport default ({ data }) => (\n    <ObsMdxPage\n        define={define}\n        output_order={output_order}\n        post_frontmatter={frontmatter} />\n\n)\n"],"sourceRoot":""}